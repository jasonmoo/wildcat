{"id":"wc-05f9","content_hash":"7e94f6b3ac9630583e3f0a03f1e5e2b86f8120579cb8213426f77dc7ae0165dd","title":"Add wildcat package command - full package profile/introspection","description":"## Problem\nAI agents need to understand package structure quickly for navigation and orientation.\n\n## Solution: `wildcat package` Command\nA dense package map following godoc organization - gives AI the environment around any symbol.\n\n## Command\n```\nwildcat package \u003cimport-path-or-dir\u003e [flags]\n```\n\n## Output Design\n\n### Symbol Format\n- **signature**: Full Go signature\n- **kind**: function, method, type, struct, interface, const, var, field\n- **location**: `fullpath:start_line[:end_line]` (end_line when symbol spans multiple lines)\n\n### Organization (godoc order)\n1. **Constants** - grouped\n2. **Variables** - grouped  \n3. **Functions** - standalone (alphabetical, excluding constructors)\n4. **Types** - alphabetical, each with:\n   - Type definition (fields for structs, methods for interfaces inline)\n   - Constructor functions (NewFoo, ParseFoo - funcs returning that type)\n   - Methods on the type\n\n### Include Everything\n- Exported and unexported (export status is runtime concern, not AI concern)\n- Fields, consts, vars, methods - all symbols\n- No file boundary markers (files don't affect code behavior)\n\n### Proposed Structure\n```json\n{\n  \"query\": {\n    \"command\": \"package\",\n    \"target\": \"./internal/symbols\"\n  },\n  \"package\": {\n    \"import_path\": \"github.com/jasonmoo/wildcat/internal/symbols\",\n    \"name\": \"symbols\",\n    \"dir\": \"/path/to/internal/symbols\"\n  },\n  \"constants\": [\n    { \"signature\": \"const DefaultLimit = 20\", \"location\": \"parse.go:5\" }\n  ],\n  \"variables\": [\n    { \"signature\": \"var ErrNoMatch = errors.New(\\\"no match\\\")\", \"location\": \"errors.go:8\" }\n  ],\n  \"functions\": [\n    { \"signature\": \"func Parse(q Query) ([]Result, error)\", \"location\": \"parse.go:24:45\" }\n  ],\n  \"types\": [\n    {\n      \"signature\": \"type Query struct { Pattern string; Limit int }\",\n      \"kind\": \"struct\",\n      \"location\": \"parse.go:9:15\",\n      \"constructors\": [\n        { \"signature\": \"func NewQuery(pattern string) Query\", \"location\": \"parse.go:50:55\" }\n      ],\n      \"methods\": [\n        { \"signature\": \"func (q Query) String() string\", \"location\": \"parse.go:99:105\" },\n        { \"signature\": \"func (q Query) Validate() error\", \"location\": \"parse.go:107:120\" }\n      ]\n    }\n  ],\n  \"imports\": [\n    { \"package\": \"context\" },\n    { \"package\": \"github.com/jasonmoo/wildcat/internal/lsp\" }\n  ],\n  \"imported_by\": [\n    { \"package\": \"github.com/jasonmoo/wildcat/cmd\" }\n  ],\n  \"summary\": {\n    \"constants\": 1,\n    \"variables\": 1,\n    \"functions\": 1,\n    \"types\": 1,\n    \"imports\": 2,\n    \"imported_by\": 1\n  }\n}\n```\n\n## Flags\n- `--exclude-stdlib` - Exclude stdlib from imports\n\n## Acceptance Criteria\n- [ ] Output follows godoc organization\n- [ ] Symbols include full signatures\n- [ ] Location format: fullpath:start[:end]\n- [ ] All symbols included (exported + unexported)\n- [ ] Constructors grouped with their types\n- [ ] imports and imported_by included","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-13T07:34:19.580728556Z","updated_at":"2026-01-14T07:28:20.120828968Z","closed_at":"2026-01-14T07:28:20.120828968Z"}
{"id":"wc-099e","content_hash":"d347e2b5c9b509a9e398145d9d6c27291a2951033ff94b2935d9b814bf03217c","title":"Orchestration layer - symbol lookup, recursion, snippets","description":"## Context\nThis is Wildcat's value-add on top of LSP. While LSP provides raw queries, Wildcat orchestrates multiple calls, handles recursion, extracts snippets, and formats output.\n\n## What Wildcat Adds\n\n| Feature | LSP Provides | Wildcat Adds |\n|---------|--------------|--------------|\n| Symbol lookup | workspace/symbol (returns list) | Parse 'pkg.Func' → filter → find exact match |\n| Transitive calls | Direct callers only | Recursive calls to build full tree |\n| Snippets | Line/column position | Read file, extract source context |\n| Call expression | Position only | Extract actual call text |\n| in_test flag | Nothing | Filename pattern matching |\n| Args extraction | Nothing | Parse snippet for arguments |\n\n## Scope\nCreate orchestration packages:\n\n### 1. Symbol Lookup (`internal/symbols`)\n```go\n// Parse user input like \"config.Load\" or \"Server.Start\"\nfunc Parse(input string) (*SymbolQuery, error)\n\n// Find symbol using workspace/symbol + filtering\nfunc Resolve(ctx context.Context, client lsp.Client, query *SymbolQuery) (*ResolvedSymbol, error)\n\n// Generate suggestions for typos\nfunc SuggestSimilar(ctx context.Context, client lsp.Client, query string) ([]string, error)\n```\n\n### 2. Recursive Traversal (`internal/traverse`)\n```go\ntype TraverseOptions struct {\n    Direction    Direction // Up (callers) or Down (callees)\n    MaxDepth     int\n    ExcludeTests bool\n    ExcludeStdlib bool\n    Visited      map[string]bool // cycle detection\n}\n\n// Recursively walk call hierarchy\nfunc WalkCallHierarchy(ctx context.Context, client lsp.Client, root CallHierarchyItem, opts TraverseOptions) (*CallTree, error)\n\n// Build flat list of callers/callees\nfunc FlattenCallers(tree *CallTree) []CallerInfo\n```\n\n### 3. Snippet Extraction (`internal/snippets`)\n```go\n// Extract source lines around a position\nfunc Extract(filePath string, line int, contextLines int) (string, error)\n\n// Extract the call expression at position\nfunc ExtractCallExpr(filePath string, line, startCol, endCol int) (string, error)\n\n// Parse arguments from call expression\nfunc ParseArgs(callExpr string) ([]string, error)\n\n// Detect if file is a test file\nfunc IsTestFile(filePath string) bool\n```\n\n## Implementation Notes\n\n### Symbol Resolution Flow\n```\nUser: \"config.Load\"\n  → Parse(\"config.Load\") → SymbolQuery{Package: \"config\", Name: \"Load\"}\n  → workspace/symbol(\"Load\")\n  → Filter results where package contains \"config\" and name == \"Load\"\n  → Return position for further LSP calls\n```\n\n### Recursive Call Hierarchy Flow\n```\nUser: \"callers --depth 3\"\n  → PrepareCallHierarchy(symbol position)\n  → IncomingCalls(item) → direct callers\n  → For each caller:\n      → If depth \u003c maxDepth \u0026\u0026 not visited:\n          → PrepareCallHierarchy(caller position)\n          → IncomingCalls(item) → recurse\n  → Return full tree\n```\n\n## Acceptance Criteria\n- [ ] Parse pkg.Func, Type.Method, full/path/pkg.Func formats\n- [ ] Resolve symbol via workspace/symbol with filtering\n- [ ] Generate fuzzy suggestions for typos\n- [ ] Recursive traversal respects depth limit\n- [ ] Cycle detection prevents infinite loops\n- [ ] Snippet extraction preserves indentation\n- [ ] Call expression extraction works\n- [ ] Test file detection works\n- [ ] Unit tests for each component\n\n## Files\n- internal/symbols/parse.go\n- internal/symbols/resolve.go\n- internal/symbols/suggest.go\n- internal/traverse/walk.go\n- internal/traverse/flatten.go\n- internal/snippets/extract.go\n- internal/snippets/callexpr.go\n- internal/snippets/testfile.go\n- internal/*_test.go\n\n## Depends On\n- wc-cb10 (LSP client infrastructure)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T04:57:45.340753104Z","updated_at":"2026-01-10T05:33:24.247366914Z","closed_at":"2026-01-10T05:33:24.247366914Z","dependencies":[{"issue_id":"wc-099e","depends_on_id":"wc-cb10","type":"blocks","created_at":"2026-01-10T04:57:54.413462978Z","created_by":"jason"}]}
{"id":"wc-2b6e","content_hash":"a5677b2f1d42117260a7074992872795c2e5f3d97b4d9b87e731a12f52b46c72","title":"Add project command for project-level analysis","description":"Add a 'project' command that provides project-level information, similar to the package command but scoped to the entire project.\n\n## Features\n- List all packages in the project\n- Show external dependencies imported into the project\n- Package size metrics (LOC, file count, etc.)\n- Import heatmap showing package usage patterns:\n  - Which internal packages are imported by many other packages (high connectivity)\n  - Which packages are only imported by one or few packages (low connectivity)\n  - Identify potential 'hub' packages vs leaf packages\n\n## Future considerations\n- Additional metrics TBD as needs arise","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T02:22:42.184259151Z","updated_at":"2026-01-16T05:51:09.165558166Z"}
{"id":"wc-2bdd","content_hash":"558e4eeca8b511a6d4a0ed206e957c355b87e0d5f3ee124e5195303d85b6cb09","title":"Filter or flag external interfaces in satisfies/implements output","description":"External interfaces from imported packages (e.g., from go/pkg/mod/) are appearing in satisfies and possibly implements command results.\n\n## Example\nInterfaces like `json.Marshaler` and `json.Unmarshaler` from external modules show up:\n```\n{\n  \"symbol\": \"Marshaler\",\n  \"file\": \"/home/jason/go/pkg/mod/github.com/go-json-experiment/json@v0.0.0.../arshal_methods.go\",\n  ...\n}\n```\n\n## Options to consider\n1. Filter out external interfaces entirely (only show project-local interfaces)\n2. Add a flag to include/exclude external interfaces (default exclude?)\n3. Group results by local vs external\n4. Keep current behavior but mark external interfaces differently\n\nNeed to decide on the right UX here.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-15T02:31:09.741128269Z","updated_at":"2026-01-15T13:47:33.301974355Z","closed_at":"2026-01-15T13:47:33.301974355Z"}
{"id":"wc-2d19","content_hash":"e39811ac0d8712876428551a075bdb530f6c93bd0c8a036b5e26700cf96f8c9f","title":"Elevate project to pre-production status","description":"Wildcat started as a hackathon project but is evolving into an important tool for AI-assisted development. Update project posture to reflect pre-production readiness.\n\n## Cleanup Tasks\n- [ ] Remove DEMO.md, DEMO-COMMANDS.md, MESSAGE.md from root\n- [ ] Remove eval/ folder (hackathon artifact)\n- [ ] Audit all command descriptions (--help text)\n- [ ] Audit readme command output\n- [ ] Audit README.md for accuracy\n- [ ] Audit CLAUDE.md for accuracy\n\n## Future Areas (separate tickets)\n\n### Documentation\n- Comprehensive README with installation, usage, examples\n- Architecture documentation\n- Contributing guidelines\n\n### Quality\n- Increase test coverage across packages\n- Add integration tests for all commands\n- CI/CD pipeline (GitHub Actions)\n- Linting and formatting enforcement\n\n### Reliability\n- Error handling audit\n- Timeout and cancellation handling\n- Graceful degradation for LSP failures\n\n### Distribution\n- Release automation\n- Binary releases for major platforms\n- Homebrew formula or similar","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-15T14:38:46.564895826Z","updated_at":"2026-01-15T15:10:30.510199155Z","closed_at":"2026-01-15T15:10:30.510199155Z"}
{"id":"wc-2f4f","content_hash":"8d616dde174e2131f2fc0affa6e050f627e708180b38eeb85c89195791ca9f69","title":"Deduplicate identical call paths in tree output","description":"Multiple calls from the same function to the same target produce identical paths (same package.Name sequence). Need to either dedupe paths or include distinguishing info (call site location). Currently paths array may contain duplicates that look identical but represent different actual call sites.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T03:12:42.142245269Z","updated_at":"2026-01-15T04:51:39.194200075Z","closed_at":"2026-01-15T04:51:39.194200075Z","dependencies":[{"issue_id":"wc-2f4f","depends_on_id":"wc-f890","type":"blocks","created_at":"2026-01-15T03:12:42.158870145Z","created_by":"jason"}]}
{"id":"wc-3d05","content_hash":"ccf210aab8ef56e88fc8842d93824d26311b6f5d7cadb4fb2b9f19f29566cbb0","title":"Fix method symbol resolution - gopls returns Type.Method format","description":"User query `(*DB).GetTask` fails because:\n\n1. Parser extracts: Type='DB', Pointer=true, Name='GetTask'\n2. Resolver calls WorkspaceSymbol(ctx, 'GetTask')\n3. gopls returns Name='DB.GetTask' (not just 'GetTask')\n4. matchesQuery compares 'DB.GetTask' != 'GetTask' → FAIL\n\nKey finding: gopls workspace/symbol returns methods as 'Type.Method', not '(*Type).Method' (despite gopls symbols CLI using pointer syntax).","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-11T13:32:09.973076894Z","updated_at":"2026-01-11T14:03:14.192081198Z","closed_at":"2026-01-11T14:03:14.192081198Z","dependencies":[{"issue_id":"wc-3d05","depends_on_id":"wc-9808","type":"discovered-from","created_at":"2026-01-11T13:32:09.98889372Z","created_by":"jason"}]}
{"id":"wc-3fbc","content_hash":"c8c30e7c02ded8f7ccc35545679d79671d9a47804f5fe3347802d00d41156d7e","title":"Reimagine wildcat symbols command for AI use cases","description":"## Problem\nThe current symbols command passes queries directly to gopls fuzzy matching, but:\n- AIs typically want **substring matching** not fuzzy matching\n- AIs want to filter by **symbol kind** (functions, types, methods, etc.)\n- The documented ^prefix/$suffix/'exact syntax was never implemented by gopls\n\n## Proposed Changes\n\n### Query Model\nInstead of fuzzy matching, support:\n- Substring matching by default (case-insensitive)\n- Kind filtering: `--kind func` or `--kind type`\n- Combined: `wildcat symbols Task --kind func` → all functions containing 'Task'\n\n### Implementation Options\n1. **Client-side filtering**: Query gopls broadly, filter results ourselves\n2. **AST-based**: Use go/parser directly instead of gopls for more control\n3. **Hybrid**: Use gopls for discovery, filter client-side\n\n### Example Usage\n```bash\nwildcat symbols Task              # all symbols containing 'Task'\nwildcat symbols Task --kind func  # functions containing 'Task'\nwildcat symbols New --kind func   # constructors (NewFoo, NewBar...)\nwildcat symbols Error --kind type # error types\n```\n\n### Output\nKeep current output format but ensure results match the query semantics exactly.\n\n## Acceptance Criteria\n- [ ] Substring matching works reliably\n- [ ] --kind flag filters by symbol type\n- [ ] Documentation matches actual behavior\n- [ ] Remove misleading ^/$/' syntax from docs","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-14T06:45:01.265827169Z","updated_at":"2026-01-14T06:45:01.265827169Z"}
{"id":"wc-475e","content_hash":"b63fcdf60b5481b706e9a454c1ab8de85118c77fab2587ee2a7eb57bfe02b1b7","title":"Feature: Search for symbol usage patterns","description":"When exploring code, we often need to find where symbols are used. Currently using grep, but Wildcat could provide: 1) Find all usages of a pattern (like grep but symbol-aware) 2) Search for method calls matching a pattern 3) Find all implementations of methods with certain signatures. Discovered while using grep to find OpenWorkspaceFiles calls in cmd/*.go","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T03:19:23.921384361Z","updated_at":"2026-01-14T07:33:41.335998908Z","closed_at":"2026-01-14T07:33:41.335998908Z"}
{"id":"wc-48e9","content_hash":"af8b4b1501a54d3bece7f1b602069dddcfa7fa1ff5a0876e5f66407f2f4cb85f","title":"Restructure symbol output around package organization","description":"## Summary\n\nReorganize symbol command output to be package-centric rather than flat lists.\n\n## Current Structure\n\n```json\n{\n  \"usage\": {\n    \"callers\": [\n      {\"file\": \"/full/path/to/pkg/a.go\", \"line\": 10, ...},\n      {\"file\": \"/full/path/to/other/b.go\", \"line\": 20, ...}\n    ],\n    \"references\": [...]\n  }\n}\n```\n\n## Proposed Structure\n\n```json\n{\n  \"query\": {\n    \"command\": \"symbol\",\n    \"target\": \"lsp.Client\",\n    \"scope\": \"package\"\n  },\n  \"target\": {...},\n  \"imported_by\": [\"cmd\", \"internal/traverse\", \"internal/symbols\"],\n  \"packages\": {\n    \"github.com/foo/internal/lsp\": {\n      \"callers\": [{\"file\": \"client.go\", \"line\": 10, ...}],\n      \"references\": [...]\n    },\n    \"github.com/foo/cmd\": {\n      \"callers\": [{\"file\": \"symbol.go\", \"line\": 42, ...}],\n      \"references\": [...]\n    }\n  },\n  \"query_summary\": {...},\n  \"package_summary\": {...},\n  \"project_summary\": {...}\n}\n```\n\n## Benefits\n\n1. **Package path stated once** - not repeated in every reference\n2. **Shorter file paths** - just filename within package context\n3. **Natural grouping** - understand usage by package\n4. **Progressive discovery** - `imported_by` shows breadcrumbs for further exploration\n5. **Context efficiency** - scope controls which packages appear in results\n\n## imported_by\n\nLists packages that import the symbol's package. Enables progressive discovery:\n- Query at package scope → see focused results\n- See `imported_by` list → know what else is out there\n- Query again with specific packages to explore further\n- AI controls context spend\n\nLike `other_fuzzy_matches` - breadcrumbs without committing context.\n\n## Summaries\n\nAlways present:\n- `query_summary` - stats for the requested scope\n- `package_summary` - symbol's defining package (fixed anchor)\n- `project_summary` - full project (fixed anchor)\n","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-16T07:53:10.717182526Z","updated_at":"2026-01-16T08:09:50.181271328Z","closed_at":"2026-01-16T08:09:50.181271328Z"}
{"id":"wc-4d61","content_hash":"cb78b8ade3448c0ddf91765081aeb745df19c1d97a82b6bfca621187328f3d8d","title":"Research optimal CLI output formats for call trees and code graphs - AI-consumable","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:16:43.957523257Z","updated_at":"2026-01-10T03:35:12.719590076Z","closed_at":"2026-01-10T03:35:12.719590076Z"}
{"id":"wc-4fe1","content_hash":"28a4740f866bc7dc350780ff152c2112707ffc2090196f88eba0f5f51969d24c","title":"Replace LSP init sleep with readiness polling","description":"## Problem\nThe 200ms sleep after LSP initialization is a hack. On slower machines or larger projects, this may not be enough. On fast machines, it's wasted time.\n\n## Current Code\n```go\ntime.Sleep(200 * time.Millisecond)\n```\nPresent in: callers.go, callees.go, refs.go, tree.go, impact.go\n\n## Proposed Solution\n1. Poll for LSP readiness instead of sleeping\n2. Options:\n   - Send a lightweight request (like `initialized` notification)\n   - Wait for `window/workDoneProgress` completion\n   - Use exponential backoff with a test query\n3. Add configurable timeout (default 30s)\n\n## Acceptance Criteria\n- [ ] Remove hardcoded 200ms sleep\n- [ ] LSP readiness detected reliably\n- [ ] Works on slow and fast machines\n- [ ] Graceful timeout with clear error message","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-10T05:58:58.671490419Z","updated_at":"2026-01-15T14:41:13.025755111Z","closed_at":"2026-01-15T14:41:13.025755111Z"}
{"id":"wc-53f5","content_hash":"4b6648023128546d646f46652865745899792554ce83ec258627524a30fd1cc8","title":"Impact: add descendants (outgoing type dependencies)","description":"## Problem\nWhen removing a symbol, some of its dependencies may become dead code - they existed only to serve the removed symbol.\n\n## Example\n```go\ntype Task struct { ID TaskID }  // Task uses TaskID\ntype TaskID string              // TaskID only used by Task\n```\n\nIf you remove `Task`, then `TaskID` is now orphaned - it has zero references.\n\n## Proposed Behavior\n`wildcat impact model.Task` would include:\n\n```json\n{\n  \"impact\": { ... },\n  \"orphaned_if_removed\": [\n    {\n      \"symbol\": \"TaskID\",\n      \"kind\": \"type\",\n      \"location\": \"model/task_id.go:5\",\n      \"reason\": \"only referenced by model.Task\"\n    }\n  ]\n}\n```\n\n## Algorithm\n1. Get all symbols referenced BY the target (outgoing deps)\n2. For each, count total references in codebase\n3. If reference count == 1 (only the target), it's orphaned\n\n## Implementation Notes\n- Need outgoing dependencies (what the target uses) - requires go/types or AST\n- Need reference counting per symbol - gopls references\n- May want to show \"would become orphaned\" vs \"already orphaned\"\n\n## Acceptance Criteria\n- [ ] Impact output includes `orphaned_if_removed` list\n- [ ] Each orphan shows symbol, kind, location, reason\n- [ ] Only shows symbols that would have zero refs after removal","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-14T01:42:25.469224612Z","updated_at":"2026-01-14T07:34:50.585024679Z"}
{"id":"wc-5cc2","content_hash":"089559310a91ed55ed8c0123700dd7f9844125c74915f2eb068f50228ca0b3dc","title":"Feature: Find files containing specific code patterns","description":"When modifying code across multiple files, we need to find which files contain certain patterns. Current approach uses grep, but Wildcat could provide: 1) Find files containing calls to a specific function 2) Find files that reference a type 3) Find files that need the same change (like adding OpenWorkspaceIfNeeded). Discovered while grepping for 'time.Sleep(200' across cmd/*.go to find files needing updates.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T03:21:50.06082755Z","updated_at":"2026-01-14T07:33:41.333115504Z","closed_at":"2026-01-14T07:33:41.333115504Z"}
{"id":"wc-62b1","content_hash":"da172ebcdc973e211ad0e4fc9a3c4271abcf241ac6f8bf1d0a962d04bac7515b","title":"Support multiple symbol queries","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T08:46:58.529505527Z","updated_at":"2026-01-14T07:50:13.838166889Z","closed_at":"2026-01-14T07:50:13.838166889Z"}
{"id":"wc-62df","content_hash":"775e6bcf5d9add472baff56db5ba6cb040d518712f38b5dfa7650096b25305fd","title":"Remove unused types: Result, Summary, MergeOverlappingResults","description":"Dead code identified during output/types.go audit:\n- Result type (lines 23-36)\n- Summary type (lines 38-44)  \n- MergeOverlappingResults and related helpers in snippet.go","status":"open","priority":3,"issue_type":"chore","created_at":"2026-01-16T08:39:29.56584299Z","updated_at":"2026-01-16T08:39:29.56584299Z","dependencies":[{"issue_id":"wc-62df","depends_on_id":"wc-8842","type":"related","created_at":"2026-01-16T08:42:27.55693045Z","created_by":"jason"}]}
{"id":"wc-6c54","content_hash":"e625fee29a020c2ecf337f137cc398a8fb7aad1be96118420f51bb0df269a325","title":"Add wildcat symbols command - fuzzy symbol search for AI agents","description":"## Problem\nAI agents rely heavily on grep for code navigation, which returns raw text matches without semantic understanding. This leads to:\n- Noise from comments, strings, variable names all treated equally\n- No symbol type information (function vs variable vs type)\n- Requires post-processing to understand context\n- Many irrelevant matches\n\n## Solution: `wildcat symbols` Command\nExpose gopls workspace/symbol fuzzy search as a first-class wildcat command, optimized for AI agent consumption.\n\n## gopls workspace/symbol Capabilities\n\n### Fuzzy Matching\n- Uses `fastFuzzy` algorithm (FZF-inspired)\n- Smart-casing: case-sensitive if query contains uppercase, otherwise case-insensitive\n- Ranked results with scoring based on match quality\n\n### Query Syntax (expose fully)\n- Basic fuzzy: `DocSym` matches `DocumentSymbol`\n- `^prefix` - exact prefix match (smart-cased)\n- `$suffix` - exact suffix match (smart-cased)  \n- `'exact` - exact substring match (smart-cased)\n- Multiple terms combined with AND logic\n\n### Symbol Kinds Returned\nFunction, Method, Struct, Interface, Constant, Variable, Field, Package, etc.\n\n### Ranking/Scoring\n- Workspace symbols prioritized over non-workspace\n- Unexported symbols outside workspace: 0.5x penalty\n- Max 100 results, sorted by: score desc → name length asc → lexical\n\n---\n\n## Output Design: Beyond gopls Flat List\n\n### Raw gopls Response\n```go\ntype SymbolInformation struct {\n    Name          string     // \"Resolver.Resolve\" \n    Kind          SymbolKind // 6 (Method)\n    Location      Location   // URI + Range\n    ContainerName string     // \"github.com/.../symbols\"\n}\n```\n\n### Decorations to Add\n\n| Field | Source | Value for AI |\n|-------|--------|--------------|\n| `kind` | Map SymbolKind int → string | \"method\" not 6 |\n| `file` | Parse URI | Absolute path |\n| `line` / `line_end` | Range + 1 | 1-indexed |\n| `exported` | Name[0] uppercase | Quick filter |\n| `package` | Full ContainerName | Import path |\n| `package_short` | Last segment | \"symbols\" |\n| `snippet` | Read file at location | Inline context |\n| `signature` | textDocument/hover call | Function/method signature |\n\n### Signature via Hover (High Value)\ngopls `textDocument/hover` returns rich info including signatures:\n```\nfunc (r *Resolver) Resolve(ctx context.Context, query *Query) (*ResolvedSymbol, error)\n```\n\nThis is extremely valuable for AI to understand what a symbol does without reading the file. Trade-off is one LSP call per result - consider:\n- Only fetch for top N results (e.g., top 10)\n- Flag to enable/disable: `--signatures` \n- Lazy fetch only for high-confidence matches\n\n### Grouping Options\n\n**Flat list (default)** - matches gopls, good for small result sets:\n```json\n{ \"results\": [ {symbol}, {symbol}, ... ] }\n```\n\n**Group by file** - useful when AI wants to read one file with multiple matches:\n```json\n{\n  \"by_file\": {\n    \"/path/to/resolve.go\": {\n      \"symbols\": [ {symbol}, {symbol} ],\n      \"count\": 2\n    }\n  }\n}\n```\n\n**Group by package** - useful for understanding code organization:\n```json\n{\n  \"by_package\": {\n    \"internal/symbols\": {\n      \"files\": {\n        \"resolve.go\": [ {symbol} ],\n        \"parse.go\": [ {symbol} ]\n      },\n      \"count\": 5\n    }\n  }\n}\n```\n\n**Flag**: `--group \u003cnone|file|package\u003e` (default: none)\n\n---\n\n## Command Design\n\n```\nwildcat symbols \u003cquery\u003e [flags]\n```\n\n### Flags\n- `--kind \u003ckind\u003e` - Filter by symbol kind (function, method, type, interface, const, var, field, struct)\n- `--limit \u003cn\u003e` - Max results (default: 50)\n- `--exported` - Only exported symbols\n- `--package \u003cpattern\u003e` - Filter to package path pattern\n- `--context \u003cn\u003e` - Lines of snippet context (default: 3)\n- `--compact` - Omit snippets\n- `--signatures` - Include function/method signatures (adds latency)\n- `--group \u003cnone|file|package\u003e` - Result grouping (default: none)\n\n### Example Output (flat with signatures)\n```json\n{\n  \"query\": {\n    \"command\": \"symbols\",\n    \"pattern\": \"Resolve\",\n    \"flags\": { \"kind\": null, \"limit\": 50, \"exported\": false }\n  },\n  \"results\": [\n    {\n      \"symbol\": \"Resolver.Resolve\",\n      \"kind\": \"method\",\n      \"exported\": true,\n      \"file\": \"/home/user/wildcat/internal/symbols/resolve.go\",\n      \"line\": 32,\n      \"line_end\": 77,\n      \"package\": \"github.com/jasonmoo/wildcat/internal/symbols\",\n      \"package_short\": \"symbols\",\n      \"signature\": \"func (r *Resolver) Resolve(ctx context.Context, query *Query) (*ResolvedSymbol, error)\",\n      \"snippet\": \"// Resolve finds a symbol matching the query.\\nfunc (r *Resolver) Resolve(...\"\n    }\n  ],\n  \"summary\": {\n    \"count\": 15,\n    \"by_kind\": { \"method\": 5, \"function\": 8, \"type\": 2 },\n    \"packages\": [\"internal/symbols\", \"internal/lsp\"],\n    \"truncated\": false\n  }\n}\n```\n\n### Example Output (grouped by package)\n```json\n{\n  \"query\": { \"command\": \"symbols\", \"pattern\": \"Parse\", \"flags\": { \"group\": \"package\" } },\n  \"by_package\": {\n    \"internal/symbols\": {\n      \"path\": \"github.com/jasonmoo/wildcat/internal/symbols\",\n      \"files\": {\n        \"parse.go\": [\n          { \"symbol\": \"Parse\", \"kind\": \"function\", \"line\": 24, \"signature\": \"func Parse(input string) (*Query, error)\" },\n          { \"symbol\": \"ParseError\", \"kind\": \"struct\", \"line\": 118 }\n        ]\n      },\n      \"count\": 2\n    },\n    \"internal/config\": {\n      \"path\": \"github.com/jasonmoo/wildcat/internal/config\",\n      \"files\": {\n        \"config.go\": [\n          { \"symbol\": \"ParseFile\", \"kind\": \"function\", \"line\": 45 }\n        ]\n      },\n      \"count\": 1\n    }\n  },\n  \"summary\": { \"count\": 3, \"packages\": 2, \"truncated\": false }\n}\n```\n\n---\n\n## Files to Create/Modify\n- `cmd/symbols.go` - New command\n- `internal/output/types.go` - Add SymbolsResponse, SymbolResult, ByPackage types\n- `internal/symbols/search.go` - New file for search logic + hover decoration\n\n## Acceptance Criteria\n- [ ] `wildcat symbols Resolve` returns ranked fuzzy matches\n- [ ] `wildcat symbols ^Parse` returns prefix matches\n- [ ] `wildcat symbols '$Error'` returns exact substring matches\n- [ ] `--kind function` filters to functions only\n- [ ] `--exported` filters to exported symbols\n- [ ] `--signatures` fetches hover info for each result\n- [ ] `--group package` groups results by package\n- [ ] `--group file` groups results by file\n- [ ] Output includes file, line, kind, package, snippet\n- [ ] Ranking preserved from gopls ordering","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T05:58:47.309544434Z","updated_at":"2026-01-13T08:16:18.923674158Z","closed_at":"2026-01-13T08:16:18.923674158Z"}
{"id":"wc-6c5f","content_hash":"af7a2b0fc026aa9af12d66a114f5c372263d6bd6c3d70de3aa6bf01c8e2b7f25","title":"Implement --package filter flags","description":"## Problem\nThe --package filter flags are stubbed out with TODO comments in the code.\n\n## Current Code (callers.go:170-172)\n```go\nif callersPackage != \"\" {\n    // TODO: implement package filtering\n}\n```\n\n## Scope\nImplement package filtering for:\n- `callers --package \u003cpattern\u003e`\n- `refs --package \u003cpattern\u003e`\n\n## Behavior\n- Pattern matching: glob style (`internal/*`, `github.com/user/*`)\n- Filter results to only show matches from specified packages\n- Should work with both full paths and relative patterns\n\n## Files\n- cmd/callers.go\n- cmd/refs.go\n- internal/output/filter.go (new, shared logic)\n\n## Acceptance Criteria\n- [ ] `--package internal/*` filters to internal packages\n- [ ] `--package .` filters to current module only\n- [ ] Pattern supports glob wildcards\n- [ ] Works for both callers and refs commands","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T05:59:25.14989845Z","updated_at":"2026-01-15T03:19:00.369071214Z","closed_at":"2026-01-15T03:19:00.369071214Z"}
{"id":"wc-6fb8","content_hash":"eb2944a7b8b2708aa99ae74c7f83de45aa192ac159678383d771db118daf3f67","title":"Plugin author documentation","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T08:26:35.369479889Z","updated_at":"2026-01-10T08:26:35.369479889Z"}
{"id":"wc-728f","content_hash":"5156dc87cfe35258f506c1bf6f7b867f74511185c62be3e2e9f85b2c9399a08c","title":"Audit commands for snippet output support","description":"Review all commands to identify opportunities for adding code snippets to their outputs, similar to the impact command enhancement","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T12:42:11.184161371Z","updated_at":"2026-01-14T07:33:41.425663214Z","closed_at":"2026-01-14T07:33:41.425663214Z"}
{"id":"wc-782c","content_hash":"e47c36297211bba10c9f3e408e38714c06ed6dff77f37b0739a3d7f5f81d6a37","title":"Document Python/pyright LSP integration findings","description":"## Summary\nWhile setting up evals with Python code, discovered that pyright requires different LSP initialization than gopls.\n\n## Key Findings\n\n### 1. workspaceFolders Required\nPyright needs `workspaceFolders` in InitializeParams, not just `rootUri`. Without this, workspace/symbol returns empty results.\n\n**Fix**: Added WorkspaceFolder type and populate workspaceFolders array in Initialize().\n\n### 2. Explicit didOpen for Files  \nPer GitHub issue microsoft/pyright#10086, pyright only indexes files that have been explicitly opened via textDocument/didOpen. Unlike gopls which indexes the entire workspace automatically.\n\n**Fix**: Added `OpenWorkspaceFiles()` method that walks the workspace and sends didOpen for each source file. Called via `OpenWorkspaceIfNeeded()` helper for Python language.\n\n### 3. Language-Specific Behavior\nDifferent LSP servers have different initialization requirements:\n- **gopls**: Auto-indexes workspace, workspace/symbol works immediately\n- **pyright**: Needs workspaceFolders + explicit didOpen for each file\n\nThis pattern may apply to other servers (typescript-language-server, rust-analyzer, etc.)\n\n## Files Changed\n- internal/lsp/protocol.go - Added WorkspaceFolder type\n- internal/lsp/client.go - Added workspaceFolders to init, added OpenWorkspaceFiles()\n- cmd/server.go - Added OpenWorkspaceIfNeeded() helper\n- cmd/*.go - All commands call OpenWorkspaceIfNeeded()\n\n## Future Considerations\n- May need similar handling for other language servers\n- Could optimize by only opening files matching the symbol query\n- Performance impact on large codebases needs testing\n\n## References\n- https://github.com/microsoft/pyright/issues/10086","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T03:24:32.148096572Z","updated_at":"2026-01-15T14:47:02.943964956Z","closed_at":"2026-01-15T14:47:02.943964956Z"}
{"id":"wc-7863","content_hash":"63cce36666a67657db4377c60fc958d184f6d39a21f4edd9766928f99173797b","title":"Flexible package path resolution across all commands","description":"gopls requires full paths (github.com/jasonmoo/wildcat/internal/lsp) or relative ./ paths (./internal/lsp), but bare paths like 'internal/lsp' fail. Need to explore normalizing user input to acceptable formats - auto-prepending ./ for relative paths, resolving partial paths to full import paths, etc. Affects: package, tree, callers, callees, refs, impact, implements, satisfies commands.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T04:57:45.209022047Z","updated_at":"2026-01-15T13:30:44.237141214Z","closed_at":"2026-01-15T13:30:44.237141214Z"}
{"id":"wc-7ed8","content_hash":"3e56909c84b29f50a04542e3fb0c160b486589340a510aecb4b3ab4cd7fecde4","title":"AIDE Spec: AI Development Environment Specification","description":"Research codifying the wildcat interface into a formal specification.\n\nGoals:\n- Define a spec so other tool authors can implement for their language\n- Enable AI companies to train models to understand the spec natively\n- Similar to LSP but designed specifically for AI consumption\n\nThis would be the interface contract that any AIDE-compliant tool would implement.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-15T08:36:39.081620578Z","updated_at":"2026-01-15T08:36:39.081620578Z"}
{"id":"wc-81dd","content_hash":"8739e0c5456ef1af1c974917d97054aecb60512c5edeeb39c0f6c75faa317eb1","title":"Git History Eval - Wildcat Effectiveness Benchmark","description":"End-to-end eval system that uses real git history (e.g., Kubernetes) to benchmark AI coding effectiveness with and without Wildcat. Uses Claude Code in non-interactive mode as the eval runtime.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-11T06:10:18.910533787Z","updated_at":"2026-01-14T07:28:20.225667798Z","closed_at":"2026-01-14T07:28:20.225667798Z"}
{"id":"wc-81dd.1","content_hash":"ac65b7185ab57f63493c2dd34299c0e1914d27964de718da8f176451765fd0fa","title":"Eval product design document","description":"Document the eval methodology: what we're measuring, how we compare AI output to committed code, scoring rubrics, success criteria. Define the A/B test structure (with/without Wildcat).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T06:10:33.817897456Z","updated_at":"2026-01-14T07:28:20.232957821Z","closed_at":"2026-01-14T07:28:20.232957821Z"}
{"id":"wc-81dd.2","content_hash":"fc172fb765cdd396b14f6c3a2bce37649cf0e3ffab99341b965ae9ab7ee532a2","title":"Claude Code configuration for non-interactive eval","description":"Determine optimal Claude Code flags for eval runs: --allowedTools, --system-prompt, --output-format, --max-budget-usd, permission handling. Document the configuration for reproducibility.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T06:10:33.910498621Z","updated_at":"2026-01-14T07:28:20.235932918Z","closed_at":"2026-01-14T07:28:20.235932918Z"}
{"id":"wc-81dd.3","content_hash":"b78d693671262de90a0652782603dad048bfcefbd301df07cf2bdbf3be6af493","title":"Commit candidate selection from git history","description":"Build tooling to scan git history and identify good eval candidates. Filter criteria: has linked issue, not a merge/version bump, reasonable scope (not too big/small), touches code files. Output a curated list of (commit, issue) pairs.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T06:10:33.994198553Z","updated_at":"2026-01-14T07:28:20.239757523Z","closed_at":"2026-01-14T07:28:20.239757523Z"}
{"id":"wc-81dd.4","content_hash":"a4ec28481bf7717661472551b115b472ad38d71719f1b095a0766155b32d444b","title":"Eval orchestration harness","description":"Build the orchestration code (Go) that: resets repo to commit^, extracts issue description, invokes Claude Code with task, captures resulting diff, stores results. Handle parallelization and failure recovery.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T06:10:34.075886823Z","updated_at":"2026-01-14T07:28:20.242916685Z","closed_at":"2026-01-14T07:28:20.242916685Z","dependencies":[{"issue_id":"wc-81dd.4","depends_on_id":"wc-81dd.1","type":"blocks","created_at":"2026-01-11T06:10:40.933600853Z","created_by":"jason"},{"issue_id":"wc-81dd.4","depends_on_id":"wc-81dd.2","type":"blocks","created_at":"2026-01-11T06:10:40.979386928Z","created_by":"jason"},{"issue_id":"wc-81dd.4","depends_on_id":"wc-81dd.3","type":"blocks","created_at":"2026-01-11T06:10:41.015367764Z","created_by":"jason"},{"issue_id":"wc-81dd.4","depends_on_id":"wc-81dd.7","type":"blocks","created_at":"2026-01-11T06:11:46.994111797Z","created_by":"jason"}]}
{"id":"wc-81dd.5","content_hash":"0d1acd4f82e7da808e5aa2fda0a278bfe555d90239ae7bbcc585f1541e84fd47","title":"Result evaluation and comparison logic","description":"Build comparison tooling: structural diff analysis (same files touched?), AI-as-judge for solution quality, metrics collection (cost, tokens, turns). Generate reports comparing Wildcat vs baseline runs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T06:10:34.164908282Z","updated_at":"2026-01-14T07:28:20.246829865Z","closed_at":"2026-01-14T07:28:20.246829865Z","dependencies":[{"issue_id":"wc-81dd.5","depends_on_id":"wc-81dd.4","type":"blocks","created_at":"2026-01-11T06:10:41.108028097Z","created_by":"jason"}]}
{"id":"wc-81dd.6","content_hash":"b4c0350c891e3675c2372d3b28b8bd6d0cf35119706706beae70978eb2273d97","title":"Docker container isolation for eval runs","description":"Create Docker setup to isolate each eval run: clean repo state, controlled environment, no cross-contamination between runs. Include necessary tooling (Go, Claude Code, git, Wildcat).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T06:10:34.272756853Z","updated_at":"2026-01-14T07:28:20.25030906Z","closed_at":"2026-01-14T07:28:20.25030906Z","dependencies":[{"issue_id":"wc-81dd.6","depends_on_id":"wc-81dd.2","type":"blocks","created_at":"2026-01-11T06:10:41.191439211Z","created_by":"jason"}]}
{"id":"wc-81dd.7","content_hash":"ce71ef94065b62bd9e504b32b19ce12d3af5e30e8cbf8c1a8f10277530143943","title":"Repo configuration schema for eval targets","description":"Define the configuration schema for target repos. Fields: repo URL, clone settings, issue extraction method (github_issue|pr_body|commit_message|jira), issue URL pattern, commit filtering rules, language/toolchain, build/test commands, CLAUDE.md template. Create example configs for 2-3 target repos (e.g., Kubernetes, Prometheus).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T06:11:43.048972962Z","updated_at":"2026-01-14T07:28:20.25412784Z","closed_at":"2026-01-14T07:28:20.25412784Z"}
{"id":"wc-878e","content_hash":"f1d1a6ba7748aaa75654f50db520eac81ef5a9128c036222e3a4ebc3fed921e5","title":"Partition select cases from regular channel operations","description":"## Goal\nSeparate select statement channel operations from regular operations in the channels command output.\n\n## Completed Work\n1. Added SelectSends and SelectReceives fields to ChannelGroup struct (lines 50-51)\n2. Updated opInfo.kind comment to include select_send, select_receive (line 180)\n3. Rewrote processFile() with two-pass approach:\n   - First pass: detect select statements, extract channel ops from CommClause, mark as select_send/select_receive\n   - Second pass: collect non-select operations, skip nodes already handled\n   - Uses selectNodes map to track which AST nodes are part of select cases\n\n## Remaining Work\n1. Update buildPackages() switch statement to handle select_send and select_receive kinds (around line 418-420)\n   - Add: case \"select_send\": group.SelectSends = append(...)\n   - Add: case \"select_receive\": group.SelectReceives = append(...)\n2. Update summary counting in runChannels() to include select operations in TotalOps and ByKind\n3. Update renderChannelsMarkdown() to render SelectSends and SelectReceives sections\n\n## Note\nEdit tool was failing to match the switch statement text in buildPackages(). May need to rewrite that section fresh or debug the whitespace issue.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T05:36:39.854571954Z","updated_at":"2026-01-16T05:39:20.036283034Z","closed_at":"2026-01-16T05:39:20.036283034Z"}
{"id":"wc-879a","content_hash":"7ab1b5fcba7907ff3a3da6dffe1fab6ccae5a0300c3b36a4e7c6b7449baf4e83","title":"LSP daemon mode for persistent connections","description":"## Problem\nEach command spawns a fresh gopls instance. This is slow (~500ms+ startup) and wasteful. Running multiple commands in sequence pays this cost repeatedly.\n\n## Current Behavior\n- NewClient() starts gopls\n- Command runs\n- Client closes, gopls exits\n- Next command starts fresh\n\n## Proposed Solution\nImplement a daemon mode:\n\n1. **Daemon process**\n   - `wildcat daemon start` - starts background daemon\n   - `wildcat daemon stop` - stops daemon\n   - Daemon manages LSP connections per workspace\n\n2. **Connection pooling**\n   - Keep LSP connections alive between commands\n   - Reuse existing connection if same workspace\n   - Timeout idle connections after N minutes\n\n3. **Transparent fallback**\n   - If daemon not running, fall back to current behavior\n   - Commands work the same either way\n\n## Implementation Options\n- Unix socket for daemon communication\n- HTTP server on localhost\n- Simple PID file + named pipe\n\n## Files\n- cmd/daemon.go (new)\n- internal/daemon/daemon.go (new)\n- internal/daemon/client.go (new)\n\n## Acceptance Criteria\n- [ ] Daemon starts and manages LSP connections\n- [ ] Commands use daemon when available\n- [ ] Fallback works when daemon not running\n- [ ] Idle connection cleanup\n- [ ] `wildcat daemon status` shows state","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T05:59:13.535876204Z","updated_at":"2026-01-14T07:33:41.104930298Z","closed_at":"2026-01-14T07:33:41.104930298Z"}
{"id":"wc-87e7","content_hash":"d5faef20c146ddd407a4ec9eb0fb588ae82cf006d694a52bfaf20e2f16bf252c","title":"Language server configurations","description":"## Context\nWildcat needs to know how to start and configure different LSP servers for each language.\n\n## Scope\nCreate `internal/servers` package that:\n\n### 1. Server Detection\n- Detect language from file extension or explicit flag\n- Find server binary in PATH\n- Check server availability\n\n### 2. Per-Language Configurations\nSupport these servers initially:\n\n| Language | Server | Command | Notes |\n|----------|--------|---------|-------|\n| Go | gopls | `gopls serve` | Most tested |\n| Python | pyright | `pyright-langserver --stdio` | Fast, Microsoft |\n| TypeScript/JS | typescript-language-server | `typescript-language-server --stdio` | Requires tsserver |\n| Rust | rust-analyzer | `rust-analyzer` | Default stdio |\n| C/C++ | clangd | `clangd` | LLVM project |\n| Java | jdtls | complex setup | Eclipse-based |\n\n### 3. Configuration Options\n```go\ntype ServerSpec struct {\n    Language    string   // e.g., \"go\", \"python\"\n    Command     string   // binary name\n    Args        []string // startup args\n    InitOptions map[string]any // LSP initializationOptions\n    Capabilities []string // required capabilities we need\n}\n\n// Detect which server to use\nfunc DetectServer(filePath string) (*ServerSpec, error)\n\n// Check if server is available\nfunc (s *ServerSpec) Available() bool\n\n// Get server for language\nfunc GetServer(language string) (*ServerSpec, error)\n```\n\n### 4. Capability Verification\n- Check that server supports callHierarchy\n- Check for typeHierarchy support\n- Warn if features unavailable\n\n## Acceptance Criteria\n- [ ] gopls configuration works\n- [ ] At least 2 other language servers configured\n- [ ] Server detection by file extension\n- [ ] Availability check (binary exists)\n- [ ] Capability requirements documented\n- [ ] Easy to add new languages\n\n## Files\n- internal/servers/servers.go\n- internal/servers/detect.go\n- internal/servers/configs.go (per-language)\n- internal/servers/*_test.go\n\n## Depends On\n- wc-cb10 (LSP client infrastructure)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T04:57:14.995746828Z","updated_at":"2026-01-10T05:46:52.972235078Z","closed_at":"2026-01-10T05:46:52.972235078Z","dependencies":[{"issue_id":"wc-87e7","depends_on_id":"wc-cb10","type":"blocks","created_at":"2026-01-10T04:57:19.882078779Z","created_by":"jason"}]}
{"id":"wc-8842","content_hash":"26c77c77f9eec8121a7add2577fbd1adaa2ccfa3e03370979ba7492fe088c6bb","title":"Reimplement MergeOverlappingResults for new Location/Snippet types","description":"MergeOverlappingResults was orphaned during command consolidation. It operated on old Result type but symbol command now uses Location/Snippet types.\n\nConcept is still valuable - merging adjacent snippets within same declaration scope. Needs rewrite for new types.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-16T08:42:20.903319424Z","updated_at":"2026-01-16T09:21:02.722888337Z","closed_at":"2026-01-16T09:21:02.722888337Z"}
{"id":"wc-9232","content_hash":"9e3487aeaa4063d8bd3918f60bfe099c3dee16b015543c9d4f186053e58de247","title":"Add wildcat comments command - search code comments","description":"Add a command to search code comments specifically. Features:\n- Search comment text with regex/substring matching\n- Package-scoped (limit to specific packages)\n- Could distinguish // vs /* */ vs doc comments\n- Useful for finding TODOs, FIXMEs, explanations\n- Returns file:line with matching comment text","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-15T08:45:53.232203702Z","updated_at":"2026-01-15T08:45:53.232203702Z"}
{"id":"wc-9466","content_hash":"6ad424bce4bba453c1e4f0072b5277dcc6f8143adb5d739d45fdd8d704e08cb0","title":"Audit Go analysis ecosystem - packages and tools available","description":"## Context\nBefore building core infrastructure, we need a clear understanding of what the Go ecosystem provides. We want to leverage existing, battle-tested packages rather than reinventing. However, we will NOT shell out to external tools (gopls CLI, guru, etc.) - only use as libraries.\n\n## Goals\n1. Audit standard library analysis packages\n2. Audit golang.org/x/tools packages\n3. Identify any third-party packages worth considering\n4. Determine what we must build from scratch\n5. Document integration strategies\n\n## Scope\n\n### Standard Library (go/*)\nAudit these packages:\n- `go/ast` - AST representation and traversal\n- `go/parser` - parsing source files\n- `go/types` - type checking and type info\n- `go/token` - positions, file sets\n- `go/build` - build constraints, package discovery\n- `go/doc` - documentation extraction\n- `go/format` - source formatting\n- `go/printer` - AST printing\n- `go/scanner` - lexical scanning\n- `go/constant` - constant values\n\nFor each: What does it provide? How does it fit our needs?\n\n### golang.org/x/tools/go/*\nAudit these packages:\n- `go/packages` - modern package loading (replaces go/build)\n- `go/ssa` - SSA form construction\n- `go/ssa/ssautil` - SSA utilities\n- `go/callgraph` - call graph interface\n- `go/callgraph/cha` - Class Hierarchy Analysis\n- `go/callgraph/rta` - Rapid Type Analysis  \n- `go/callgraph/vta` - Variable Type Analysis\n- `go/callgraph/static` - static call graph\n- `go/types/typeutil` - type utilities\n- `go/ast/astutil` - AST utilities\n- `go/analysis` - analysis framework (used by go vet)\n- `go/pointer` - pointer analysis\n\nFor each: Capabilities, limitations, performance characteristics.\n\n### gopls Internal Packages\nCan we use any gopls internals as libraries?\n- `golang.org/x/tools/gopls/internal/...`\n- Check if any are importable/stable\n- Identify useful patterns even if not directly usable\n\n### Third-Party Options\nQuick survey of:\n- github.com/go-toolsmith/* - AST utilities\n- Any other notable analysis libraries\n\n## Deliverables\n\nCreate `docs/ecosystem-audit.md` with:\n\n1. **Package Matrix**\n   - Package name, what it does, our use case, notes\n\n2. **Build vs Leverage Decision**\n   - What we use directly\n   - What we wrap/extend\n   - What we build from scratch\n\n3. **Integration Strategy**\n   - Recommended package stack\n   - How packages compose together\n   - Example code patterns\n\n4. **Risk Assessment**\n   - API stability concerns\n   - Performance considerations\n   - Maintenance burden\n\n## Acceptance Criteria\n- [ ] All stdlib go/* packages documented\n- [ ] All x/tools/go/* packages documented\n- [ ] gopls internals assessed\n- [ ] Third-party options surveyed\n- [ ] Clear build vs leverage recommendations\n- [ ] Integration strategy documented\n- [ ] docs/ecosystem-audit.md complete\n\n## Why This Matters\nPer CLAUDE.md: \"Composability first\" and \"Simple over clever\". We want to build on solid foundations, not reinvent. This audit ensures we make informed decisions about our dependency stack.\n\n## Blocks\n- wc-af7d.1 (Package loading) - this research informs how we build it","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T04:07:19.863049002Z","updated_at":"2026-01-10T04:13:15.240751666Z","closed_at":"2026-01-10T04:13:15.240751666Z"}
{"id":"wc-964f","content_hash":"445a3873c9fb47b97b50ae8fe9f5f57cc9e04f96a895ba6b0fe02a1330e18a59","title":"Symbol disambiguation when multiple matches exist","description":"## Problem\nWhen a symbol name matches multiple definitions (e.g., `Parse` exists in multiple packages), there's no clear way to disambiguate or see all options.\n\n## Current Behavior\n- Returns first match from workspace/symbol\n- No indication that multiple matches exist\n- User must guess the full qualified name\n\n## Proposed Solution\n1. Detect when multiple matches exist\n2. If ambiguous, return structured error with all options:\n```json\n{\n  \"error\": {\n    \"code\": \"ambiguous_symbol\",\n    \"message\": \"Symbol 'Parse' matches multiple definitions\",\n    \"candidates\": [\n      {\"symbol\": \"symbols.Parse\", \"file\": \"internal/symbols/parse.go\", \"line\": 24},\n      {\"symbol\": \"json.Parse\", \"file\": \"encoding/json/decode.go\", \"line\": 100}\n    ]\n  }\n}\n```\n3. Allow explicit selection via full path\n\n## Acceptance Criteria\n- [ ] Detect ambiguous symbols\n- [ ] Return all candidates in error response\n- [ ] Include file/line for each candidate\n- [ ] Works with `--first` flag to take first match (for scripting)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T05:59:50.593400251Z","updated_at":"2026-01-15T14:46:34.937177209Z","closed_at":"2026-01-15T14:46:34.937177209Z"}
{"id":"wc-9749","content_hash":"1ddac25314e609276354ae43caec48ef3549822eb097b1c7499dbbf89b6feb81","title":"Locations map loses info when symbol called from multiple places","description":"The locations map stores package.Name → file:line, but only keeps the first location seen. If a function is called from multiple places (or appears multiple times in paths), we lose the other call site locations. Need to either: store array of locations per symbol, or rethink how locations relate to paths.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T03:12:53.00581035Z","updated_at":"2026-01-15T04:54:34.710058154Z","closed_at":"2026-01-15T04:54:34.710058154Z","dependencies":[{"issue_id":"wc-9749","depends_on_id":"wc-f890","type":"blocks","created_at":"2026-01-15T03:12:53.013381099Z","created_by":"jason"}]}
{"id":"wc-9808","content_hash":"eb6a62808d21f6f45b0d6307f6732697a61b76bacaf68c51959afcd1bfe954d9","title":"Audit gopls symbol definitions for completeness","description":"Audit all symbol/type definitions that gopls supports to ensure our tool has complete coverage. This is a research task to identify any gaps.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T13:22:17.680201848Z","updated_at":"2026-01-11T13:24:48.298075241Z","closed_at":"2026-01-11T13:24:48.298075241Z"}
{"id":"wc-98ff","content_hash":"50505dca427a8e4064c9d72a1bee6da458fce9b5371e32bc470bbc574753ef0d","title":"Research gopls capabilities and produce full report","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:10:51.924627968Z","updated_at":"2026-01-10T03:20:08.274775099Z","closed_at":"2026-01-10T03:20:08.274775099Z"}
{"id":"wc-9a7a","content_hash":"8f9580ce5ec1fea4470384b1a6a8fd184cd2066ec05e0738dadb29547fec0a90","title":"Remove dot format support","description":"Dot/graphviz output format is not working with current commands. Remove DotFormatter from formatter.go and return unsupported format error when dot is requested. The formatter looked for old callers/callees command output structure that no longer exists.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-16T06:46:27.896815245Z","updated_at":"2026-01-16T06:49:37.159928268Z","closed_at":"2026-01-16T06:49:37.159928268Z"}
{"id":"wc-9ab6","content_hash":"8cb379fb530d1af40b2e6592cea2a11c0f28138f99466715ef3cf6caebba3ceb","title":"Impact command: transitive symbol discovery (--transitive flag)","description":"## Problem\nWhen removing or refactoring a symbol, developers need to manually discover coupled symbols through iterative exploration. Running `wildcat impact model.Task` shows direct references, but misses:\n- Symbols referenced BY the target (dependencies)\n- Symbols that reference types used by the target (transitive dependents)\n- The full \"blast radius\" of a change\n\n## User Story\n\u003e When I ran wildcat impact model.Task, I got direct references. But I had to manually realize:\n\u003e - model.ExportedTask also needs to go (it's coupled to Task)\n\u003e - TaskIdNamespace needs to go (Task uses it for ID generation)\n\u003e - DB.Task field needs to go (it stores ExportedTask)\n\u003e - GetTask, StoreTask, DeleteTask need to go (they operate on Task)\n\n## Solution\nAdd `--transitive` flag to impact command that recursively discovers:\n\n1. **Outgoing dependencies** - what the target symbol references/uses\n2. **Incoming references** - what references the target (existing behavior)\n3. **Transitive closure** - repeat for discovered symbols up to a depth\n\n### Proposed Output\n```\nwildcat impact --transitive model.Task\n\n{\n  \"query\": { \"command\": \"impact\", \"target\": \"model.Task\", \"transitive\": true },\n  \"target\": { ... },\n  \"symbols\": [\n    { \"symbol\": \"model.Task\", \"role\": \"target\", \"file\": \"...\", \"line\": ... },\n    { \"symbol\": \"model.ExportedTask\", \"role\": \"referenced_by_target\", \"reason\": \"field type in model.Task\" },\n    { \"symbol\": \"id.TaskIdNamespace\", \"role\": \"referenced_by_target\", \"reason\": \"used in model.Task.ID()\" },\n    { \"symbol\": \"DB.Task\", \"role\": \"references_target\", \"reason\": \"field of type model.ExportedTask\" },\n    { \"symbol\": \"DB.GetTask\", \"role\": \"references_target\", \"reason\": \"returns model.Task\" },\n    { \"symbol\": \"DB.StoreTask\", \"role\": \"references_target\", \"reason\": \"parameter model.Task\" },\n    { \"symbol\": \"DB.DeleteTask\", \"role\": \"transitive\", \"reason\": \"uses id.TaskIdNamespace\" }\n  ],\n  \"files\": [\n    { \"file\": \"database/model/task.go\", \"symbols\": 2, \"suggestion\": \"delete_file\" },\n    { \"file\": \"database/db_task.go\", \"symbols\": 3, \"suggestion\": \"delete_file\" },\n    { \"file\": \"database/db.go\", \"symbols\": 1, \"suggestion\": \"edit\" },\n    { \"file\": \"database/id/namespaces.go\", \"symbols\": 1, \"suggestion\": \"edit\" }\n  ],\n  \"summary\": {\n    \"total_symbols\": 7,\n    \"files_affected\": 4,\n    \"delete_files\": 2,\n    \"edit_files\": 2\n  }\n}\n```\n\n## Key Design Decisions\n\n### What counts as \"coupled\"?\n- Type references (field types, parameter types, return types)\n- Direct calls to methods\n- Constants/variables used by the symbol\n- NOT: symbols in same file but unrelated\n\n### Depth limiting\n- `--depth N` to control how many hops (default: 2?)\n- Prevent explosion on highly-connected symbols\n\n### File-level suggestions\n- If ALL symbols in a file are in the removal set → suggest \"delete_file\"\n- Otherwise → suggest \"edit\"\n\n### Role classification\n- `target` - the original query\n- `referenced_by_target` - symbols the target depends on\n- `references_target` - symbols that depend on target\n- `transitive` - discovered through multi-hop traversal\n\n## Implementation Approach\n1. Start with target symbol\n2. Get outgoing references (callees, type refs) - \"what does this use?\"\n3. Get incoming references (callers, refs) - \"what uses this?\"\n4. For each discovered symbol, repeat up to depth limit\n5. Dedupe and classify by role\n6. Group by file, determine file-level action\n\n## Files to Modify\n- `cmd/impact.go` - Add --transitive and --depth flags\n- `internal/output/types.go` - Add TransitiveImpactResponse\n- `internal/traverse/` - May need new traversal logic for outgoing deps\n\n## Acceptance Criteria\n- [ ] `wildcat impact --transitive model.Task` discovers coupled symbols\n- [ ] Symbols classified by role (target, referenced_by, references, transitive)\n- [ ] Files grouped with delete/edit suggestions\n- [ ] Depth limiting prevents runaway expansion\n- [ ] Standard (non-transitive) impact unchanged","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-13T08:20:09.273889177Z","updated_at":"2026-01-14T01:48:01.92375256Z","closed_at":"2026-01-14T01:48:01.92375256Z"}
{"id":"wc-9b8c","content_hash":"ce8168f53a9e8aceed3a58e1abf6936849869d025a571ffcac7f4137c071ee67","title":"Document optimal AI-only output format findings","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:41:19.072348731Z","updated_at":"2026-01-10T03:52:06.902239952Z","closed_at":"2026-01-10T03:52:06.902239952Z","dependencies":[{"issue_id":"wc-9b8c","depends_on_id":"wc-4d61","type":"discovered-from","created_at":"2026-01-10T03:41:19.088255179Z","created_by":"jason"}]}
{"id":"wc-a1ae","content_hash":"47018e32f230e600f6496d01639ab794216492d82092dd1b46b0a9486483d001","title":"Editing Commands: AST-aware editing for AI","description":"Research what editing commands could look like for AI agents.\n\nCurrent tools (like claude code's edit) use simple search-and-replace requiring unique string matches. Explore alternatives:\n\n- AST-aware editing that understands code structure\n- A DSL for editing operations\n- Using pointers/references from other command output\n- Making it batteries-included for AI workflows\n\nGoal: editing that's robust, precise, and naturally composable with other wildcat commands.","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-15T08:36:39.171136102Z","updated_at":"2026-01-15T08:36:39.171136102Z"}
{"id":"wc-a307","content_hash":"c0e0f6fc6945531fe894e203f80de2edf0da749fae02838ad76c154393e63f4a","title":"Add snippets to impact command output","description":"Enhance the impact command to include code snippets in its output for better context","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T12:42:11.094124271Z","updated_at":"2026-01-11T13:09:15.742313863Z","closed_at":"2026-01-11T13:09:15.742313863Z"}
{"id":"wc-aa86","content_hash":"6cc54d17d6fe2931d91a50466ca39704e2711f6b22a5d98bff4804bbba508360","title":"Add command-layer tests","description":"## Problem\nNo tests for the cmd layer. All commands are untested at the integration level.\n\n## Current State\n```\n?   github.com/jasonmoo/wildcat/cmd  [no test files]\n```\n\n## Scope\nAdd integration tests for each command:\n- callers\n- callees  \n- tree\n- refs\n- impact\n- formats\n\n## Approach\n1. Use testdata directory with sample Go files\n2. Start real gopls for integration tests\n3. Test both success and error paths\n4. Verify JSON output structure\n\n## Test Cases per Command\n- Valid symbol resolves correctly\n- Invalid symbol returns error with suggestions\n- Flags work (--compact, --depth, --exclude-tests, etc.)\n- Output format is correct JSON structure\n\n## Files\n- cmd/callers_test.go\n- cmd/callees_test.go\n- cmd/tree_test.go\n- cmd/refs_test.go\n- cmd/impact_test.go\n- testdata/*.go (sample files)\n\n## Acceptance Criteria\n- [ ] Each command has at least 3 test cases\n- [ ] Tests use real LSP (gopls)\n- [ ] Error paths tested\n- [ ] Flag behavior tested","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-10T05:59:38.328699463Z","updated_at":"2026-01-14T07:33:41.217394711Z","closed_at":"2026-01-14T07:33:41.217394711Z"}
{"id":"wc-ae07","content_hash":"ebf99997dc4c7fef4225e0df3196c05b62c6dac4e3c7fa3e024013c3c7fe2492","title":"Audit go list usage - consider build.Import","description":"## Context\nDuring the channels command work, we discovered that `build.Import` provides much of what we need for package resolution without shelling out to `go list`.\n\n## Files using go list\n- `cmd/deps.go:41-85` - goListPackage struct, go list -json\n- `cmd/package.go:75-81` - package info via go list\n\n## Investigation needed\n1. What info does each call to `go list` provide?\n2. Can `build.Import` or `build.Package` provide the same?\n3. What are the trade-offs (performance, accuracy, module-awareness)?\n\n## Benefits of build.Import\n- No subprocess spawn\n- Direct Go API\n- Already used in ResolvePackagePath\n\n## Considerations\n- `go list` may provide module info that build.Import doesn't\n- Need to verify feature parity before replacing","status":"closed","priority":3,"issue_type":"chore","created_at":"2026-01-16T02:52:21.567552491Z","updated_at":"2026-01-16T07:02:03.568463544Z","closed_at":"2026-01-16T07:02:03.568463544Z"}
{"id":"wc-af7d","content_hash":"0b892bebda8181a87c6fa0d1780d23f6be2d3fce07a06752ca09e6ba78e1cc7a","title":"Wildcat MVP Implementation","description":"## Overview\nComplete implementation of Wildcat - **language-agnostic** static analysis CLI for AI agents.\n\n## ARCHITECTURE PIVOT (wc-d974)\nFollowing LSP feasibility research, Wildcat now uses an **LSP-based architecture**:\n- Works with any language that has an LSP server (Go, Python, TypeScript, Rust, C++, Java)\n- Wildcat acts as an **LSP orchestrator** - making multiple calls, handling recursion, extracting snippets\n- Language-agnostic support with consistent JSON output\n\n## Goals\n1. Build LSP client infrastructure for communicating with language servers\n2. Create orchestration layer for symbol lookup, recursive traversal, snippet extraction\n3. Implement MVP commands: callers, callees, tree, refs, impact\n4. Deliver JSON output optimized for AI tool integration\n\n## Success Criteria\n- All MVP commands functional with JSON output\n- Symbol-based queries work (pkg.Func, Type.Method)\n- Error responses include suggestions for self-correction\n- Snippets and absolute paths in all results\n- Works with gopls (Go) and at least one other language server\n\n## Architecture Layers\n1. **LSP Infrastructure**: LSP client, server configs, JSON-RPC over stdio\n2. **Orchestration**: Symbol lookup, recursive traversal, snippet extraction\n3. **Output Formatting**: JSON types, snippets, error handling\n4. **Commands**: callers, callees, tree, refs, impact\n\n## Key Tickets\n- wc-cb10: LSP client infrastructure\n- wc-87e7: Language server configurations\n- wc-099e: Orchestration layer\n- wc-af7d.4: Output formatting\n- wc-af7d.5: Error handling\n- wc-af7d.6-10: MVP commands\n\n## Reference\n- docs/lsp-feasibility.md - LSP architecture decision\n- docs/product-design.md - detailed specs\n- docs/gopls-report.md - gap analysis showing why we're building this","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-10T03:55:31.122462659Z","updated_at":"2026-01-10T06:58:24.780619118Z","closed_at":"2026-01-10T06:58:24.780619118Z"}
{"id":"wc-af7d.1","content_hash":"51b1cd0e9572d22c4ed8c2ce8d9da1c2f08d826ad0500bc4b6d1d67e8627245f","title":"Package loading infrastructure","description":"## Context\nFoundation for all Wildcat analysis. Must load Go packages with full type information.\n\n## Scope\nCreate `internal/loader` package that:\n\n1. **Load packages using golang.org/x/tools/go/packages**\n   - Configure with LoadAllSyntax mode for full type info\n   - Handle module discovery from current directory\n   - Support loading specific packages or patterns (./...)\n\n2. **Scope control**\n   - Module only (default): packages in current go.mod\n   - Direct deps: module + direct dependencies\n   - All deps: full transitive closure\n   - Implement via LoadMode flags\n\n3. **Error handling**\n   - Wrap package load errors with context\n   - Detect and report parse errors in source\n   - Return structured errors for missing packages\n\n## Interface Design\n```go\ntype Loader interface {\n    // Load packages matching patterns\n    Load(patterns ...string) ([]*packages.Package, error)\n    \n    // LoadAll loads all packages in current module\n    LoadAll() ([]*packages.Package, error)\n}\n\ntype Config struct {\n    Dir           string    // Working directory\n    IncludeDeps   bool      // Include direct dependencies\n    IncludeAllDeps bool     // Include transitive dependencies\n    BuildFlags    []string  // Build flags (-tags, etc.)\n}\n```\n\n## Acceptance Criteria\n- [ ] Load single package by path\n- [ ] Load all packages in module with ./...\n- [ ] Scope control works (module/deps/all)\n- [ ] Type information available (pkg.TypesInfo)\n- [ ] Syntax trees available (pkg.Syntax)\n- [ ] Errors include file/line for parse errors\n- [ ] Unit tests with test fixtures\n\n## Files\n- internal/loader/loader.go\n- internal/loader/loader_test.go\n\n## Dependencies\n- golang.org/x/tools/go/packages","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:55:45.60224243Z","updated_at":"2026-01-10T04:58:06.569743063Z","closed_at":"2026-01-10T04:58:06.569743063Z","dependencies":[{"issue_id":"wc-af7d.1","depends_on_id":"wc-9466","type":"blocks","created_at":"2026-01-10T04:07:39.885626658Z","created_by":"jason"},{"issue_id":"wc-af7d.1","depends_on_id":"wc-d974","type":"blocks","created_at":"2026-01-10T04:17:08.191125365Z","created_by":"jason"}]}
{"id":"wc-af7d.10","content_hash":"81b8a1fdd6f58e7b09e63c965e9782f00310da87d4978bb8f4f6e1220b819fb3","title":"Implement impact command","description":"## Context\nComprehensive impact analysis: everything affected by changing a symbol. Combines callers, refs, and package analysis into one query.\n\n## Scope\nCreate `cmd/impact.go` that:\n\n1. **Accept symbol argument**\n   - Parse and resolve symbol\n   - Determine symbol kind (function, type, method, etc.)\n\n2. **Gather all impacts**\n   - Transitive callers (recursive, not just direct)\n   - All references (using refs logic)\n   - Interface implementations (if symbol is interface method)\n   - Dependent packages (packages importing this package)\n\n3. **Categorize by impact type**\n   - callers: code paths that invoke this\n   - references: type/value usages\n   - implementations: types implementing interface\n   - dependents: packages that import this package\n\n4. **Include reason field**\n   - \"parameter type\", \"return type\", \"variable declaration\"\n   - \"method call\", \"function call\", \"interface implementation\"\n\n## CLI Design\n```\nwildcat impact \u003csymbol\u003e [flags]\n\nFlags:\n  --exclude-tests     Exclude test files\n  --depth int         Max depth for transitive callers (default unlimited)\n  --include-deps      Include impact in dependencies\n```\n\n## Output Example\n```json\n{\n  \"query\": {\n    \"command\": \"impact\",\n    \"target\": \"config.Config\",\n    \"resolved\": \"github.com/user/proj/internal/config.Config\"\n  },\n  \"target\": {\n    \"symbol\": \"config.Config\",\n    \"kind\": \"type\",\n    \"file\": \"/path/to/config/config.go\",\n    \"line\": 10\n  },\n  \"impact\": {\n    \"callers\": [...],\n    \"references\": [...],\n    \"implementations\": [...],\n    \"dependents\": [...]\n  },\n  \"summary\": {\n    \"total_locations\": 12,\n    \"callers\": 5,\n    \"references\": 4,\n    \"implementations\": 0,\n    \"dependent_packages\": 3,\n    \"in_tests\": 2\n  }\n}\n```\n\n## Implementation Notes\n- Reuse callers logic for transitive call analysis\n- Reuse refs logic for reference finding\n- Add new logic for interface implementations\n- Add package dependency analysis\n\n## Acceptance Criteria\n- [ ] Find transitive callers\n- [ ] Find all references\n- [ ] Find interface implementations (if applicable)\n- [ ] Find dependent packages\n- [ ] Include reason for each impact\n- [ ] Categorized output structure\n- [ ] Summary with counts by category\n- [ ] --depth limits caller traversal\n- [ ] Integration test with type change scenario\n\n## Files\n- cmd/impact.go\n- cmd/impact_test.go\n- internal/analysis/implementations.go (new)\n- internal/analysis/dependents.go (new)\n\n## Depends On\n- wc-af7d.6 (callers - for transitive caller analysis)\n- wc-af7d.9 (refs - for reference finding)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T04:01:19.097775621Z","updated_at":"2026-01-10T05:43:52.665542565Z","closed_at":"2026-01-10T05:43:52.665542565Z","dependencies":[{"issue_id":"wc-af7d.10","depends_on_id":"wc-af7d.6","type":"blocks","created_at":"2026-01-10T04:01:19.101626429Z","created_by":"jason"},{"issue_id":"wc-af7d.10","depends_on_id":"wc-af7d.9","type":"blocks","created_at":"2026-01-10T04:01:19.105780902Z","created_by":"jason"}]}
{"id":"wc-af7d.11","content_hash":"b8769550ac8d16c85e10320db08e5643d5fd5ea8b2f9ea954a871d5563c38053","title":"Implement implements command","description":"## Context\nFind all types implementing an interface. Useful for understanding polymorphism and finding concrete implementations.\n\n## Scope\nCreate `cmd/implements.go` that:\n\n1. **Accept interface type argument**\n   - Parse as Type (must be interface)\n   - Resolve to types.Interface\n\n2. **Find implementations**\n   - Scan all types in scope\n   - Check method sets for interface satisfaction\n   - Include pointer and non-pointer receivers\n\n3. **Format output**\n   - List of implementing types with locations\n   - Include method coverage info\n\n## CLI Design\n```\nwildcat implements \u003cinterface\u003e [flags]\n\nFlags:\n  --package string   Limit to package pattern\n  --include-deps     Include types in dependencies\n```\n\n## Output Example\n```json\n{\n  \"interface\": \"io.Reader\",\n  \"implementations\": [\n    {\n      \"type\": \"*bytes.Buffer\",\n      \"package\": \"bytes\",\n      \"file\": \"/path/to/file.go\",\n      \"line\": 45\n    }\n  ]\n}\n```\n\n## Acceptance Criteria\n- [ ] Resolve interface type\n- [ ] Find all implementing types in module\n- [ ] Handle pointer vs value receivers\n- [ ] Output with type locations\n- [ ] --include-deps expands scope\n\n## Files\n- cmd/implements.go\n- cmd/implements_test.go\n\n## Priority\nMedium (P2) - Future command, not MVP","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T04:01:32.786601328Z","updated_at":"2026-01-10T06:06:03.411423558Z","closed_at":"2026-01-10T06:06:03.411423558Z","dependencies":[{"issue_id":"wc-af7d.11","depends_on_id":"wc-af7d.2","type":"blocks","created_at":"2026-01-10T04:01:32.79092761Z","created_by":"jason"},{"issue_id":"wc-af7d.11","depends_on_id":"wc-af7d.4","type":"blocks","created_at":"2026-01-10T04:01:32.79440973Z","created_by":"jason"}]}
{"id":"wc-af7d.12","content_hash":"7c5d82d0080b12cf98e2e6cb93a101491154571155654ab3eadc0e90fda8b2a5","title":"Implement satisfies command","description":"## Context\nFind all interfaces a type satisfies. Inverse of implements command.\n\n## Scope\nCreate `cmd/satisfies.go` that:\n\n1. **Accept type argument**\n   - Parse as Type (concrete type)\n   - Resolve to types.Named or types.Pointer\n\n2. **Find satisfied interfaces**\n   - Scan all interfaces in scope\n   - Check if type's method set satisfies each interface\n   - Include standard library interfaces\n\n3. **Format output**\n   - List of interfaces with locations\n\n## CLI Design\n```\nwildcat satisfies \u003ctype\u003e [flags]\n\nFlags:\n  --include-stdlib   Include standard library interfaces\n  --package string   Limit interface search to pattern\n```\n\n## Output Example\n```json\n{\n  \"type\": \"*Server\",\n  \"satisfies\": [\n    {\n      \"interface\": \"io.Closer\",\n      \"package\": \"io\",\n      \"methods\": [\"Close\"]\n    },\n    {\n      \"interface\": \"http.Handler\",\n      \"package\": \"net/http\",\n      \"methods\": [\"ServeHTTP\"]\n    }\n  ]\n}\n```\n\n## Acceptance Criteria\n- [ ] Resolve concrete type\n- [ ] Find all satisfied interfaces\n- [ ] Include method list for each interface\n- [ ] --include-stdlib for standard library\n\n## Files\n- cmd/satisfies.go\n- cmd/satisfies_test.go\n\n## Priority\nMedium (P2) - Future command, not MVP","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T04:01:42.359231713Z","updated_at":"2026-01-10T06:07:45.342709635Z","closed_at":"2026-01-10T06:07:45.342709635Z","dependencies":[{"issue_id":"wc-af7d.12","depends_on_id":"wc-af7d.2","type":"blocks","created_at":"2026-01-10T04:01:42.363074538Z","created_by":"jason"},{"issue_id":"wc-af7d.12","depends_on_id":"wc-af7d.4","type":"blocks","created_at":"2026-01-10T04:01:42.367227556Z","created_by":"jason"}]}
{"id":"wc-af7d.13","content_hash":"c81cbf89da3068295980424ee5bd7dd57fab9b5c5f4b7acc40c6131c2084eef0","title":"Implement deps command","description":"## Context\nPackage dependency graph. Show what a package imports or what imports it.\n\n## Scope\nCreate `cmd/deps.go` that:\n\n1. **Accept package path argument**\n   - Resolve package path\n   - Handle relative paths (./internal/server)\n\n2. **Two modes**\n   - Forward (default): what does this package import?\n   - Reverse (--reverse): what packages import this?\n\n3. **Format output**\n   - List of packages with import locations\n\n## CLI Design\n```\nwildcat deps \u003cpackage\u003e [flags]\n\nFlags:\n  --reverse        What imports this package (default: what it imports)\n  --depth int      Transitive depth (default 1, direct only)\n  --exclude-stdlib Exclude standard library\n```\n\n## Output Example\n```json\n{\n  \"package\": \"github.com/user/proj/internal/server\",\n  \"direction\": \"imports\",\n  \"dependencies\": [\n    {\n      \"package\": \"github.com/user/proj/internal/config\",\n      \"import_file\": \"/path/to/server/server.go\",\n      \"import_line\": 8\n    },\n    {\n      \"package\": \"net/http\",\n      \"import_file\": \"/path/to/server/server.go\",\n      \"import_line\": 5\n    }\n  ]\n}\n```\n\n## Acceptance Criteria\n- [ ] Show direct imports\n- [ ] Show reverse (importers)\n- [ ] Transitive with --depth\n- [ ] --exclude-stdlib filters\n\n## Files\n- cmd/deps.go\n- cmd/deps_test.go\n\n## Priority\nMedium (P2) - Future command, not MVP","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T04:01:54.678956764Z","updated_at":"2026-01-10T06:14:04.234755198Z","closed_at":"2026-01-10T06:14:04.234755198Z","dependencies":[{"issue_id":"wc-af7d.13","depends_on_id":"wc-af7d.1","type":"blocks","created_at":"2026-01-10T04:01:54.682917158Z","created_by":"jason"},{"issue_id":"wc-af7d.13","depends_on_id":"wc-af7d.4","type":"blocks","created_at":"2026-01-10T04:01:54.686291533Z","created_by":"jason"}]}
{"id":"wc-af7d.14","content_hash":"7935d8875e3f2bb79f0f6d3d4098fc853a5696d65fd24684c8b9e6a80f03d47e","title":"Implement readme command","description":"## Context\nOutput AI onboarding instructions. Designed to be included in system prompts, CLAUDE.md, or MCP server context.\n\n## Scope\nCreate `cmd/readme.go` that outputs comprehensive usage guidance for AI agents.\n\n1. **When to use Wildcat**\n   - Symbol queries (callers, callees, tree)\n   - Impact analysis\n   - Reference finding\n\n2. **When to use alternatives**\n   - grep: text patterns, non-Go files\n   - gopls: diagnostics, formatting, rename\n\n3. **Command quick reference**\n   - All commands with examples\n   - Common flags\n\n4. **Workflow patterns**\n   - Refactoring workflow\n   - Understanding new code\n   - Impact assessment before changes\n\n## CLI Design\n```\nwildcat readme [flags]\n\nFlags:\n  --compact    Quick reference only (no workflows)\n```\n\n## Output Format\nPlain text/markdown suitable for:\n- Including in CLAUDE.md\n- System prompts\n- MCP server context\n\n## Acceptance Criteria\n- [ ] Comprehensive tool guidance\n- [ ] When to use vs alternatives\n- [ ] Command quick reference with examples\n- [ ] Workflow patterns\n- [ ] --compact for minimal version\n- [ ] Updates as commands are added\n\n## Files\n- cmd/readme.go\n- cmd/readme_test.go\n\n## Priority\nMedium (P2) - Should be done after MVP commands exist\n\n## Depends On\n- wc-af7d.10 (impact - all MVP commands should exist first)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-10T04:02:08.298025663Z","updated_at":"2026-01-10T06:15:38.343641665Z","closed_at":"2026-01-10T06:15:38.343641665Z","dependencies":[{"issue_id":"wc-af7d.14","depends_on_id":"wc-af7d.10","type":"blocks","created_at":"2026-01-10T04:02:08.302315001Z","created_by":"jason"}]}
{"id":"wc-af7d.2","content_hash":"de2fe8a44e84726f7cd597cd2bd81ccb026636a7bc507dec2c0c1e89b4de3f88","title":"Symbol resolution and parsing","description":"## Context\nUsers query by symbol name (pkg.Func, Type.Method). We need to parse these inputs and resolve them to actual Go objects.\n\n## Scope\nCreate `internal/symbols` package that:\n\n1. **Parse symbol input formats**\n   - `Function` - function in current/contextual package\n   - `pkg.Function` - function in package named \"pkg\"\n   - `Type.Method` - method on type\n   - `path/to/pkg.Function` - fully qualified\n   - `(*Type).Method` - method on pointer receiver\n\n2. **Resolve to types.Object**\n   - Search loaded packages for matching symbol\n   - Handle package name vs package path ambiguity\n   - Support method resolution on types\n\n3. **Fuzzy matching for suggestions**\n   - When symbol not found, find similar names\n   - Use Levenshtein distance or similar\n   - Return top 3-5 suggestions\n\n4. **Handle ambiguity**\n   - Multiple packages with same name\n   - Return all candidates with full paths\n\n## Interface Design\n```go\ntype Symbol struct {\n    Package  string   // Package path or name\n    Type     string   // Receiver type (if method)\n    Pointer  bool     // Pointer receiver\n    Name     string   // Function/method name\n    Raw      string   // Original input\n}\n\ntype Resolver interface {\n    // Parse parses symbol string into structured form\n    Parse(input string) (*Symbol, error)\n    \n    // Resolve finds the types.Object for a symbol\n    Resolve(sym *Symbol) (types.Object, error)\n    \n    // Suggest returns similar symbols for typo correction\n    Suggest(sym *Symbol, limit int) []string\n}\n\ntype ResolveResult struct {\n    Object   types.Object\n    Package  *packages.Package\n    Position token.Position  // File, line, col\n}\n```\n\n## Acceptance Criteria\n- [ ] Parse pkg.Func format\n- [ ] Parse Type.Method format\n- [ ] Parse (*Type).Method format\n- [ ] Parse path/to/pkg.Func format\n- [ ] Resolve function in package\n- [ ] Resolve method on type\n- [ ] Return position (file:line) for resolved symbol\n- [ ] Suggest similar symbols when not found\n- [ ] Handle ambiguous package names\n- [ ] Unit tests for all parse formats\n\n## Files\n- internal/symbols/parse.go\n- internal/symbols/resolve.go\n- internal/symbols/suggest.go\n- internal/symbols/*_test.go\n\n## Depends On\n- wc-af7d.1 (Package loading infrastructure)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:56:02.890832458Z","updated_at":"2026-01-10T04:58:12.787805907Z","closed_at":"2026-01-10T04:58:12.787805907Z","dependencies":[{"issue_id":"wc-af7d.2","depends_on_id":"wc-af7d.1","type":"blocks","created_at":"2026-01-10T03:56:02.895157496Z","created_by":"jason"}]}
{"id":"wc-af7d.3","content_hash":"92af09031a962f3771bc84949ee421f9ed92e39db2a5c7a11fef97753ebd7598","title":"Call graph construction","description":"## Context\nCall graph is the core data structure for callers, callees, tree, and impact commands. We need to build it from loaded packages using SSA and callgraph algorithms.\n\n## Scope\nCreate `internal/callgraph` package that:\n\n1. **Build SSA representation**\n   - Convert packages to SSA form using golang.org/x/tools/go/ssa\n   - Use ssa.BuilderMode for necessary analysis\n   - Cache SSA program for reuse\n\n2. **Construct call graph**\n   - Support three algorithms:\n     - CHA (Class Hierarchy Analysis) - fast, imprecise\n     - RTA (Rapid Type Analysis) - medium, balanced (default)\n     - VTA (Variable Type Analysis) - slow, precise\n   - Cache graph for reuse across queries\n\n3. **Query interface**\n   - Get callers of a function\n   - Get callees of a function\n   - Traverse up/down to depth N\n   - Filter by package pattern\n   - Exclude stdlib\n\n## Interface Design\n```go\ntype Algorithm string\n\nconst (\n    AlgorithmCHA Algorithm = \"cha\"\n    AlgorithmRTA Algorithm = \"rta\"\n    AlgorithmVTA Algorithm = \"vta\"\n)\n\ntype Graph interface {\n    // Callers returns all callers of the given function\n    Callers(fn *ssa.Function) []*callgraph.Edge\n    \n    // Callees returns all functions called by the given function\n    Callees(fn *ssa.Function) []*callgraph.Edge\n    \n    // Walk traverses the graph from a starting function\n    Walk(fn *ssa.Function, direction Direction, depth int, visitor func(*callgraph.Edge) bool)\n}\n\ntype Builder interface {\n    // Build constructs call graph from loaded packages\n    Build(pkgs []*packages.Package, algo Algorithm) (Graph, error)\n    \n    // SSAFunction returns SSA function for a types.Func\n    SSAFunction(fn *types.Func) *ssa.Function\n}\n\ntype Direction int\n\nconst (\n    DirectionUp   Direction = iota  // callers\n    DirectionDown                   // callees\n)\n```\n\n## Acceptance Criteria\n- [ ] Build SSA from packages\n- [ ] Construct call graph with CHA\n- [ ] Construct call graph with RTA\n- [ ] Construct call graph with VTA\n- [ ] Query callers of function\n- [ ] Query callees of function\n- [ ] Walk graph with depth limit\n- [ ] Filter by package pattern\n- [ ] Exclude stdlib option\n- [ ] Map types.Func to ssa.Function\n- [ ] Unit tests for each algorithm\n\n## Files\n- internal/callgraph/builder.go\n- internal/callgraph/graph.go\n- internal/callgraph/walk.go\n- internal/callgraph/*_test.go\n\n## Dependencies\n- golang.org/x/tools/go/ssa\n- golang.org/x/tools/go/ssa/ssautil\n- golang.org/x/tools/go/callgraph\n- golang.org/x/tools/go/callgraph/cha\n- golang.org/x/tools/go/callgraph/rta\n- golang.org/x/tools/go/callgraph/vta\n\n## Depends On\n- wc-af7d.1 (Package loading infrastructure)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:56:21.999630583Z","updated_at":"2026-01-10T04:58:06.674542647Z","closed_at":"2026-01-10T04:58:06.674542647Z","dependencies":[{"issue_id":"wc-af7d.3","depends_on_id":"wc-af7d.1","type":"blocks","created_at":"2026-01-10T03:56:22.00415759Z","created_by":"jason"}]}
{"id":"wc-af7d.4","content_hash":"8852a73bcca245499dedd6029400c370f62be25bcd4b00ca860ab309910dc499","title":"JSON output formatting and snippets","description":"## Context\nAll commands output structured JSON. We need consistent formatting, snippet extraction, and output types that are ready for AI tool consumption.\n\n## Scope\nCreate `internal/output` package that:\n\n1. **Define output types**\n   - Query block (command, target, resolved)\n   - Target block (symbol, file, line, signature)\n   - Result items (symbol, package, file, line, line_end, snippet, call_expr, args, in_test)\n   - Summary block (count, packages, in_tests, truncated)\n   - Error block (code, message, suggestions, context)\n\n2. **Snippet extraction**\n   - Extract source lines around a position\n   - Configurable context lines (default 3)\n   - Preserve original indentation\n   - Extract just the call expression\n\n3. **Path handling**\n   - Always output absolute paths\n   - Resolve from token.Position\n\n4. **JSON serialization**\n   - Consistent field naming (snake_case)\n   - Pretty print option\n   - Streaming for large results\n\n## Interface Design\n```go\ntype QueryInfo struct {\n    Command  string `json:\"command\"`\n    Target   string `json:\"target\"`\n    Resolved string `json:\"resolved\"`\n}\n\ntype TargetInfo struct {\n    Symbol    string `json:\"symbol\"`\n    File      string `json:\"file\"`\n    Line      int    `json:\"line\"`\n    Signature string `json:\"signature,omitempty\"`\n}\n\ntype Result struct {\n    Symbol   string   `json:\"symbol\"`\n    Package  string   `json:\"package\"`\n    File     string   `json:\"file\"`\n    Line     int      `json:\"line\"`\n    LineEnd  int      `json:\"line_end\"`\n    Snippet  string   `json:\"snippet,omitempty\"`\n    CallExpr string   `json:\"call_expr,omitempty\"`\n    Args     []string `json:\"args,omitempty\"`\n    InTest   bool     `json:\"in_test\"`\n}\n\ntype Summary struct {\n    Count     int      `json:\"count\"`\n    Packages  []string `json:\"packages\"`\n    InTests   int      `json:\"in_tests\"`\n    Truncated bool     `json:\"truncated\"`\n}\n\ntype ErrorResponse struct {\n    Code        string            `json:\"code\"`\n    Message     string            `json:\"message\"`\n    Suggestions []string          `json:\"suggestions,omitempty\"`\n    Context     map[string]any    `json:\"context,omitempty\"`\n}\n\ntype SnippetExtractor interface {\n    // Extract returns source lines around position\n    Extract(pos token.Position, contextLines int) (string, error)\n    \n    // ExtractExpr returns just the expression at position\n    ExtractExpr(pos token.Position) (string, error)\n}\n```\n\n## Acceptance Criteria\n- [ ] Define all output types with JSON tags\n- [ ] Extract snippet with configurable context\n- [ ] Extract call expression only\n- [ ] Output absolute paths\n- [ ] Detect test files (in_test field)\n- [ ] Serialize to JSON with proper formatting\n- [ ] Handle edge cases (start/end of file)\n- [ ] Unit tests for snippet extraction\n\n## Files\n- internal/output/types.go\n- internal/output/snippet.go\n- internal/output/json.go\n- internal/output/*_test.go\n\n## Depends On\n- wc-af7d.1 (Package loading - needs file access)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:56:42.168398223Z","updated_at":"2026-01-10T05:29:28.844419713Z","closed_at":"2026-01-10T05:29:28.844419713Z","dependencies":[{"issue_id":"wc-af7d.4","depends_on_id":"wc-af7d.1","type":"blocks","created_at":"2026-01-10T03:56:42.172872031Z","created_by":"jason"}]}
{"id":"wc-af7d.5","content_hash":"a553d754394c008a5f205e5efb4160005727c45b65c17ae4f8e4fd0bc6bfcec2","title":"Error handling with suggestions","description":"## Context\nAI agents can self-correct if errors include helpful suggestions. We need structured error responses with fuzzy-matched alternatives.\n\n## Scope\nCreate `internal/errors` package that:\n\n1. **Define error types**\n   - SymbolNotFound - symbol doesn't exist\n   - AmbiguousSymbol - multiple matches\n   - PackageNotFound - package path invalid\n   - ParseError - source has syntax errors\n   - LoadError - failed to load packages\n\n2. **Include suggestions**\n   - Use fuzzy matching to find similar symbols\n   - Limit to top 3-5 suggestions\n   - Include context (packages searched, etc.)\n\n3. **Convert to JSON**\n   - Implement error interface\n   - Provide ToJSON() method for output\n   - Include error code for programmatic handling\n\n## Interface Design\n```go\ntype Code string\n\nconst (\n    CodeSymbolNotFound   Code = \"symbol_not_found\"\n    CodeAmbiguousSymbol  Code = \"ambiguous_symbol\"\n    CodePackageNotFound  Code = \"package_not_found\"\n    CodeParseError       Code = \"parse_error\"\n    CodeLoadError        Code = \"load_error\"\n)\n\ntype WildcatError struct {\n    Code        Code\n    Message     string\n    Suggestions []string\n    Context     map[string]any\n}\n\nfunc (e *WildcatError) Error() string\nfunc (e *WildcatError) ToJSON() []byte\n\n// Constructor functions\nfunc NewSymbolNotFound(symbol string, suggestions []string) *WildcatError\nfunc NewAmbiguousSymbol(symbol string, candidates []string) *WildcatError\nfunc NewPackageNotFound(pkg string) *WildcatError\nfunc NewParseError(file string, line int, msg string) *WildcatError\nfunc NewLoadError(patterns []string, err error) *WildcatError\n```\n\n## Acceptance Criteria\n- [ ] Define error types with codes\n- [ ] Include suggestions in SymbolNotFound\n- [ ] Include candidates in AmbiguousSymbol\n- [ ] ToJSON produces valid JSON\n- [ ] Error() returns human-readable message\n- [ ] Context includes useful debugging info\n- [ ] Unit tests for all error types\n\n## Files\n- internal/errors/errors.go\n- internal/errors/errors_test.go\n\n## Depends On\n- wc-af7d.2 (Symbol resolution - for suggestion generation)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:56:57.643255869Z","updated_at":"2026-01-10T05:31:02.047632331Z","closed_at":"2026-01-10T05:31:02.047632331Z","dependencies":[{"issue_id":"wc-af7d.5","depends_on_id":"wc-af7d.2","type":"blocks","created_at":"2026-01-10T03:56:57.646710381Z","created_by":"jason"}]}
{"id":"wc-af7d.6","content_hash":"1cc03f33a52f612884f7b78e9e87d3f617fa83e62175b2964d76c84a5b311857","title":"Implement callers command","description":"## Context\nFirst and most important command. Find all callers of a function or method. This proves out the entire infrastructure.\n\n## Scope\nCreate `cmd/callers.go` that:\n\n1. **Accept symbol argument**\n   - Parse symbol using symbols.Parse()\n   - Resolve using symbols.Resolve()\n   - Handle errors with suggestions\n\n2. **Query call graph**\n   - Build call graph with selected algorithm (default: RTA)\n   - Find all callers using callgraph.Callers()\n\n3. **Format output**\n   - Extract snippets for each caller\n   - Build Result objects with all fields\n   - Generate summary\n\n4. **Support flags**\n   - --exclude-tests: filter out *_test.go\n   - --package: limit to package pattern\n   - --limit: cap results\n   - --context: lines of context in snippet\n   - --compact: omit snippets\n   - --algorithm: cha|rta|vta\n\n## CLI Design\n```\nwildcat callers \u003csymbol\u003e [flags]\n\nArguments:\n  symbol    Function or method (e.g., pkg.Func, Type.Method)\n\nFlags:\n  --exclude-tests    Exclude test files\n  --package string   Limit to package pattern\n  --limit int        Maximum results (0 = unlimited)\n  --context int      Lines of context (default 3)\n  --compact          Omit snippets\n  --algorithm string Algorithm: cha, rta, vta (default \"rta\")\n```\n\n## Output Example\n```json\n{\n  \"query\": {\n    \"command\": \"callers\",\n    \"target\": \"config.Load\",\n    \"resolved\": \"github.com/user/proj/internal/config.Load\"\n  },\n  \"target\": {\n    \"symbol\": \"config.Load\",\n    \"file\": \"/path/to/config/config.go\",\n    \"line\": 15,\n    \"signature\": \"func Load(path string) (*Config, error)\"\n  },\n  \"results\": [...],\n  \"summary\": {\n    \"count\": 5,\n    \"packages\": [\"main\", \"server\"],\n    \"in_tests\": 1,\n    \"truncated\": false\n  }\n}\n```\n\n## Acceptance Criteria\n- [ ] Parse symbol argument\n- [ ] Resolve symbol to function\n- [ ] Find callers in call graph\n- [ ] Output JSON with all fields\n- [ ] --exclude-tests works\n- [ ] --package filtering works\n- [ ] --limit caps results\n- [ ] --context controls snippet size\n- [ ] --compact omits snippets\n- [ ] Error output includes suggestions\n- [ ] Integration test with real Go code\n\n## Files\n- cmd/callers.go\n- cmd/callers_test.go\n\n## Depends On\n- wc-af7d.2 (Symbol resolution)\n- wc-af7d.3 (Call graph)\n- wc-af7d.4 (Output formatting)\n- wc-af7d.5 (Error handling)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T04:00:11.861183858Z","updated_at":"2026-01-10T05:38:48.120509161Z","closed_at":"2026-01-10T05:38:48.120509161Z","dependencies":[{"issue_id":"wc-af7d.6","depends_on_id":"wc-af7d.2","type":"blocks","created_at":"2026-01-10T04:00:11.864938473Z","created_by":"jason"},{"issue_id":"wc-af7d.6","depends_on_id":"wc-af7d.3","type":"blocks","created_at":"2026-01-10T04:00:11.867959646Z","created_by":"jason"},{"issue_id":"wc-af7d.6","depends_on_id":"wc-af7d.4","type":"blocks","created_at":"2026-01-10T04:00:11.871809909Z","created_by":"jason"},{"issue_id":"wc-af7d.6","depends_on_id":"wc-af7d.5","type":"blocks","created_at":"2026-01-10T04:00:11.874970218Z","created_by":"jason"},{"issue_id":"wc-af7d.6","depends_on_id":"wc-cb10","type":"blocks","created_at":"2026-01-10T04:58:18.407243428Z","created_by":"jason"},{"issue_id":"wc-af7d.6","depends_on_id":"wc-099e","type":"blocks","created_at":"2026-01-10T04:58:18.442294555Z","created_by":"jason"}]}
{"id":"wc-af7d.7","content_hash":"00e0befd83838ad3df6c4d8f8748231b532108edda22803ebc6c2bdd958432e3","title":"Implement callees command","description":"## Context\nMirror of callers command. Find all functions called by a given function. Shares most infrastructure with callers.\n\n## Scope\nCreate `cmd/callees.go` that:\n\n1. **Accept symbol argument**\n   - Same parsing/resolution as callers\n\n2. **Query call graph**\n   - Find all callees using callgraph.Callees()\n   - Same algorithm options\n\n3. **Format output**\n   - Same output structure as callers\n   - Results show what the target calls\n\n4. **Support same flags**\n   - --exclude-tests, --package, --limit, --context, --compact, --algorithm\n\n## CLI Design\n```\nwildcat callees \u003csymbol\u003e [flags]\n```\n\nSame flags as callers command.\n\n## Implementation Notes\n- Extract shared logic from callers into helper function\n- Only difference is graph traversal direction\n- Consider refactoring callers to use shared code\n\n## Acceptance Criteria\n- [ ] Parse symbol argument\n- [ ] Find callees in call graph\n- [ ] Output JSON with all fields\n- [ ] All flags work (same as callers)\n- [ ] Shared code with callers (no duplication)\n\n## Files\n- cmd/callees.go\n- cmd/callees_test.go\n- cmd/shared.go (if extracting common logic)\n\n## Depends On\n- wc-af7d.6 (callers command - shares infrastructure)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T04:00:23.688759041Z","updated_at":"2026-01-10T05:39:15.314930121Z","closed_at":"2026-01-10T05:39:15.314930121Z","dependencies":[{"issue_id":"wc-af7d.7","depends_on_id":"wc-af7d.6","type":"blocks","created_at":"2026-01-10T04:00:23.692622664Z","created_by":"jason"}]}
{"id":"wc-af7d.8","content_hash":"63a53173f0ecf757f691e17e2213680707727961ec956745d7bf78b568590e3b","title":"Implement tree command","description":"## Context\nBuild a call tree from a starting point. Recursive traversal of callers (up) or callees (down) with depth control.\n\n## Scope\nCreate `cmd/tree.go` that:\n\n1. **Accept symbol argument**\n   - Same parsing/resolution as callers/callees\n\n2. **Recursive traversal**\n   - Walk graph up (callers) or down (callees)\n   - Respect depth limit\n   - Track visited nodes to avoid cycles\n   - Collect edges with positions\n\n3. **Build tree structure**\n   - nodes: map of function -\u003e details + connections\n   - edges: list of from/to with positions\n   - Different from flat results list\n\n4. **Support flags**\n   - --depth: max traversal depth (default 3)\n   - --direction: up|down (default down)\n   - --exclude-tests, --exclude-stdlib\n   - --algorithm: cha|rta|vta\n\n## CLI Design\n```\nwildcat tree \u003csymbol\u003e [flags]\n\nFlags:\n  --depth int        Maximum depth (default 3)\n  --direction string up or down (default \"down\")\n  --exclude-tests    Exclude test files\n  --exclude-stdlib   Exclude standard library\n  --algorithm string cha, rta, vta (default \"rta\")\n```\n\n## Output Example\n```json\n{\n  \"query\": {\n    \"command\": \"tree\",\n    \"root\": \"main.main\",\n    \"depth\": 3,\n    \"direction\": \"down\"\n  },\n  \"nodes\": {\n    \"main.main\": {\n      \"file\": \"/path/to/main.go\",\n      \"line\": 10,\n      \"signature\": \"func main()\",\n      \"calls\": [\"cmd.Execute\", \"os.Exit\"]\n    },\n    \"cmd.Execute\": {\n      \"file\": \"/path/to/cmd/root.go\",\n      \"line\": 15,\n      \"calls\": [\"config.Load\"]\n    }\n  },\n  \"edges\": [\n    {\"from\": \"main.main\", \"to\": \"cmd.Execute\", \"file\": \"/path/main.go\", \"line\": 11}\n  ],\n  \"summary\": {\n    \"node_count\": 5,\n    \"edge_count\": 8,\n    \"max_depth_reached\": 3,\n    \"truncated\": false\n  }\n}\n```\n\n## Acceptance Criteria\n- [ ] Traverse down (callees) recursively\n- [ ] Traverse up (callers) recursively\n- [ ] Respect depth limit\n- [ ] Handle cycles (don't infinite loop)\n- [ ] Build nodes map with details\n- [ ] Build edges list with positions\n- [ ] --exclude-stdlib filters standard library\n- [ ] Summary shows depth reached\n- [ ] Integration test with recursive calls\n\n## Files\n- cmd/tree.go\n- cmd/tree_test.go\n\n## Depends On\n- wc-af7d.6 (callers)\n- wc-af7d.7 (callees)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T04:00:43.166160313Z","updated_at":"2026-01-10T05:39:15.357461817Z","closed_at":"2026-01-10T05:39:15.357461817Z","dependencies":[{"issue_id":"wc-af7d.8","depends_on_id":"wc-af7d.6","type":"blocks","created_at":"2026-01-10T04:00:43.170703458Z","created_by":"jason"},{"issue_id":"wc-af7d.8","depends_on_id":"wc-af7d.7","type":"blocks","created_at":"2026-01-10T04:00:43.174334873Z","created_by":"jason"}]}
{"id":"wc-af7d.9","content_hash":"db1a28b38078c21fefc74b0d7be94d1bcacd48f47b6f6a1810f7da1d06a96888","title":"Implement refs command","description":"## Context\nFind all references to a symbol, not just calls. Uses type information rather than call graph. Important for type/variable/constant usage tracking.\n\n## Scope\nCreate `cmd/refs.go` that:\n\n1. **Accept symbol argument**\n   - Parse and resolve symbol\n   - Can be function, type, variable, constant\n\n2. **Find references using types.Info**\n   - Walk AST of all files\n   - Check Uses map for references to target object\n   - Include Defs for completeness\n\n3. **Categorize references**\n   - Call sites (function calls)\n   - Type references (variable declarations, parameters)\n   - Value references (assignments, passing as argument)\n\n4. **Format output**\n   - Same structure as callers\n   - Add \"reason\" field for reference type\n\n## CLI Design\n```\nwildcat refs \u003csymbol\u003e [flags]\n\nFlags:\n  --exclude-tests    Exclude test files\n  --package string   Limit to package pattern\n  --limit int        Maximum results\n  --context int      Lines of context (default 3)\n  --compact          Omit snippets\n```\n\n## Implementation Approach\n```go\n// Walk all packages\nfor _, pkg := range packages {\n    for ident, obj := range pkg.TypesInfo.Uses {\n        if obj == targetObject {\n            // Found a reference\n            pos := pkg.Fset.Position(ident.Pos())\n            // Extract snippet, build result\n        }\n    }\n}\n```\n\n## Acceptance Criteria\n- [ ] Find function references (not just calls)\n- [ ] Find type references\n- [ ] Find variable/constant references\n- [ ] Output JSON with same structure as callers\n- [ ] Include reference type/reason\n- [ ] All standard flags work\n- [ ] Integration test with various reference types\n\n## Files\n- cmd/refs.go\n- cmd/refs_test.go\n\n## Depends On\n- wc-af7d.2 (Symbol resolution)\n- wc-af7d.4 (Output formatting)\n- wc-af7d.5 (Error handling)\n\n## Note\nDoes NOT depend on call graph (wc-af7d.3). Uses type checker info directly.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-10T04:00:59.248894512Z","updated_at":"2026-01-10T05:40:08.716605367Z","closed_at":"2026-01-10T05:40:08.716605367Z","dependencies":[{"issue_id":"wc-af7d.9","depends_on_id":"wc-af7d.2","type":"blocks","created_at":"2026-01-10T04:00:59.253045928Z","created_by":"jason"},{"issue_id":"wc-af7d.9","depends_on_id":"wc-af7d.4","type":"blocks","created_at":"2026-01-10T04:00:59.256479231Z","created_by":"jason"},{"issue_id":"wc-af7d.9","depends_on_id":"wc-af7d.5","type":"blocks","created_at":"2026-01-10T04:00:59.260561319Z","created_by":"jason"}]}
{"id":"wc-b078","content_hash":"7829c0c0613b7c671da322d43024560f16580605bf15bdc538f557da9b88b691","title":"Add suggestions to all responses, not just errors","description":"Currently suggestions only appear in error responses (symbol_not_found). Consider adding a \"suggestions\" or \"related\" field to successful responses too.\n\nFor example, after showing callers of config.Load, could suggest:\n- Other functions in the same package\n- Functions with similar names\n- Symbols referenced by the results\n\nThis turns every response into a navigation aid, not just dead-ends.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T14:01:37.18936279Z","updated_at":"2026-01-12T14:12:02.324434602Z","closed_at":"2026-01-12T14:12:02.324434602Z"}
{"id":"wc-b201","content_hash":"8897e6124d5c2c158a70bacc0c87962aeff9c97124304502117c4877f83eb82a","title":"Filter out /internal/ paths from external packages in search results","description":"Search results include symbols from internal packages of external dependencies, e.g.:\n- golang.org/x/tools/internal/stdlib.Symbol.Version\n\nThese are not accessible or editable - they just happen to be in the import chain.\n\nFilter criteria:\n- If the file path is in go/pkg/mod/ (external dependency)\n- AND the import path contains /internal/\n- THEN exclude from results\n\nKeep /internal/ paths from the project itself (e.g. github.com/jasonmoo/wildcat/internal/...) since those are valid results.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T09:53:07.72739421Z","updated_at":"2026-01-16T09:56:26.085721155Z","closed_at":"2026-01-16T09:56:26.085721155Z"}
{"id":"wc-b32f","content_hash":"51595383cddccf62a73d186ce9967e66f76f27a560f8806ddf678361d3339072","title":"Add AST context output alongside snippets","description":"## Problem\nCurrent impact/refs output includes text snippets, but these are just raw strings. To make intelligent statements about code context, we need structured information about the enclosing AST.\n\n## Idea\nAlongside (or instead of) text snippets, provide AST-aware context:\n- What construct encloses this reference? (function, method, struct field, type decl, etc.)\n- What is the signature/shape of that enclosure?\n- What other symbols does the enclosure reference?\n\n## Example Current Output\n```json\n{\n  \"file\": \"db.go\",\n  \"line\": 42,\n  \"snippet\": \"func GetTask(id TaskID) *Task {\"\n}\n```\n\n## Example Enriched Output (TBD)\n```json\n{\n  \"file\": \"db.go\",\n  \"line\": 42,\n  \"enclosure\": {\n    \"kind\": \"function\",\n    \"name\": \"GetTask\",\n    \"signature\": \"func(TaskID) *Task\",\n    \"types_used\": [\"TaskID\", \"Task\"]\n  }\n}\n```\n\n## Notes\n- Exact shape TBD at implementation time\n- May require go/ast parsing\n- Could enable smarter impact analysis (e.g., \"this function is Task-centric\")\n\n## Related\n- wc-9ab6: Transitive symbol discovery (may use this)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-14T01:40:19.661266691Z","updated_at":"2026-01-15T14:50:30.024851863Z","closed_at":"2026-01-15T14:50:30.024851863Z"}
{"id":"wc-b636","content_hash":"c2a4421fecc40f64f79992c4aaa372353741ab59bc736083c074d1c782bcee0c","title":"Normalize symbol names to always include package prefix","description":"Currently symbol names from gopls are inconsistent:\n- Search for \"golang.Resolv\" returns \"golang.ResolvePackagePath\" \n- Search for \"Resolv\" returns \"ResolvePackagePath\" (no prefix)\n\nBut gopls always provides package info via ContainerName field:\n  \"symbol\": \"ResolvePackagePath\",\n  \"package\": \"github.com/jasonmoo/wildcat/internal/golang\"\n\nWe should normalize all symbol names to include a short package prefix derived from ContainerName. This enables:\n1. Consistent output format for search and suggestions\n2. Reliable filtering by package prefix\n3. Better user experience - always know which package a symbol is from\n\nImplementation:\n- Update formatSymbolShort to build \"pkg.Symbol\" from ContainerName\n- Use last path segment of import path as short prefix (e.g., \"golang\" from \".../internal/golang\")\n- Apply to both search results and error suggestions","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T09:39:48.090398893Z","updated_at":"2026-01-16T09:48:38.808148935Z","closed_at":"2026-01-16T09:48:38.808148935Z"}
{"id":"wc-b718","content_hash":"f8f2bc111bdc57e837aa560f030e7e46cf989ab4b555515c2dc52e341bc6e33d","title":"Output plugin system for custom formats","description":"## Context\nThis is the hackathon \"curveball\" feature. Wildcat needs to support user-defined output formats beyond JSON.\n\n## Deferred Decision\nFor MVP, we output JSON only. This ticket captures the plugin design for later implementation.\n\n## Proposed Architecture\n\n### Three-tier approach (simple → complex):\n\n1. **Built-in formatters** - Common formats shipped with Wildcat\n   - json (default)\n   - yaml\n   - dot (graphviz)\n   - markdown (tables)\n\n2. **Go templates** - User customization without code\n   - `--output template:./my.tmpl`\n   - Access to full result structure\n   - Easy to share as text files\n\n3. **External plugins** - Complex transformations\n   - `--output plugin:myplugin`\n   - Discovers `wildcat-format-myplugin` in PATH or plugin dir\n   - Receives JSON on stdin, outputs formatted result\n   - Language-agnostic (any executable)\n\n## Interface Design\n\n```go\n// internal/output/formatter.go\ntype Formatter interface {\n    // Format transforms the result into the desired output format\n    Format(result any) ([]byte, error)\n    \n    // Name returns the formatter name (e.g., \"dot\", \"yaml\")\n    Name() string\n    \n    // Description returns help text for --help\n    Description() string\n}\n\n// Registry for formatters\ntype Registry interface {\n    Register(f Formatter)\n    Get(name string) (Formatter, error)\n    List() []string\n}\n\n// For external plugins\ntype ExternalPlugin struct {\n    Command string   // e.g., \"wildcat-format-dot\"\n    Args    []string\n}\n\nfunc (p *ExternalPlugin) Format(result any) ([]byte, error) {\n    // Marshal to JSON, pipe to command, return stdout\n}\n```\n\n## CLI Design\n\n```bash\n# Built-in\nwildcat callers config.Load                      # JSON (default)\nwildcat callers config.Load --output yaml\nwildcat callers config.Load --output dot\nwildcat callers config.Load --output markdown\n\n# Template\nwildcat callers config.Load --output template:./custom.tmpl\n\n# External plugin  \nwildcat callers config.Load --output plugin:myplugin\n# Looks for: wildcat-format-myplugin\n\n# List available formatters\nwildcat formats\n```\n\n## Plugin Discovery\n\n1. Check `$PATH` for `wildcat-format-\u003cname\u003e`\n2. Check `~/.config/wildcat/plugins/`\n3. Check `./plugins/` in current directory\n\n## Built-in Formatters to Implement\n\n### dot (graphviz)\nFor tree command - visualize call graphs:\n```dot\ndigraph callgraph {\n  \"main.main\" -\u003e \"cmd.Execute\"\n  \"cmd.Execute\" -\u003e \"config.Load\"\n}\n```\n\n### yaml\nDirect YAML serialization of JSON output.\n\n### markdown\nTables for callers/refs, indented lists for trees:\n```markdown\n## Callers of config.Load\n\n| Caller | File | Line |\n|--------|------|------|\n| main.main | main.go | 23 |\n```\n\n## Acceptance Criteria\n- [ ] Formatter interface defined\n- [ ] Registry for formatter lookup\n- [ ] Built-in: yaml formatter\n- [ ] Built-in: dot formatter (for tree)\n- [ ] Built-in: markdown formatter\n- [ ] Go template support\n- [ ] External plugin discovery\n- [ ] External plugin execution (stdin/stdout)\n- [ ] `wildcat formats` command to list available\n- [ ] Plugin error handling (not found, execution failure)\n- [ ] Documentation for writing plugins\n\n## Files\n- internal/output/formatter.go (interface)\n- internal/output/registry.go\n- internal/output/yaml.go\n- internal/output/dot.go\n- internal/output/markdown.go\n- internal/output/template.go\n- internal/output/plugin.go (external)\n- cmd/formats.go\n\n## Design Principles (from CLAUDE.md)\n- **Composability first**: Formatter interface allows easy extension\n- **Simple over clever**: Start with built-ins, templates before external plugins\n\n## Priority\nP3 (Backlog) - Implement after MVP commands work with JSON output.\n\n## Depends On\n- wc-af7d.4 (JSON output formatting - need base types first)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-10T05:14:19.768564456Z","updated_at":"2026-01-10T05:51:13.948844689Z","closed_at":"2026-01-10T05:51:13.948844689Z","dependencies":[{"issue_id":"wc-b718","depends_on_id":"wc-af7d.4","type":"blocks","created_at":"2026-01-10T05:14:23.909419837Z","created_by":"jason"}]}
{"id":"wc-b79d","content_hash":"6f82166965b506246eaec4e5fb223b1722a04790dadfc1f69156afb1e70130f9","title":"Hackathon demo preparation","description":"## Context\nPrepare and execute a compelling demo of Wildcat for the hackathon judges.\n\n## Demo Script\n\n### 1. The Problem (30 sec)\n- AI agents need to understand code semantically, not just grep\n- \"What calls this function?\" \"What breaks if I change this?\"\n- Existing tools: gopls is IDE-focused, grep is text-only\n\n### 2. The Solution (30 sec)\n- Wildcat: LSP-based static analysis for AI agents\n- Language-agnostic (Go, Python, TypeScript, Rust, C++)\n- JSON output optimized for tool integration\n\n### 3. Live Demo (2-3 min)\n\n```bash\n# Find all callers of a function\n./bin/wildcat callers lsp.NewClient\n\n# What would break if we changed this type?\n./bin/wildcat impact lsp.Client\n\n# Find all types implementing an interface\n./bin/wildcat implements output.Formatter\n\n# Visualize call graph\n./bin/wildcat callers output.NewWriter -o dot\n\n# Package dependencies\n./bin/wildcat deps ./internal/lsp --reverse\n\n# AI onboarding\n./bin/wildcat readme --compact\n```\n\n### 4. Output Formats (30 sec)\n- JSON (default) - for AI consumption\n- YAML, Markdown - human readable\n- DOT - Graphviz visualization\n- Extensible plugin system\n\n### 5. Curveball Feature (30 sec)\n- Output plugin system\n- Built-in: json, yaml, markdown, dot\n- Custom: Go templates, external plugins\n- `wildcat formats` to list available\n\n## Key Talking Points\n- Uses LSP for language-agnostic support\n- Answers semantic questions grep can't\n- Designed for AI agents, not humans\n- Extensible output system (curveball)\n- Self-documenting (readme command)\n\n## Demo Environment\n- [ ] Clean terminal with large font\n- [ ] Pre-built binary ready\n- [ ] Test commands work on wildcat codebase\n- [ ] Have backup screenshots if LSP is slow\n\n## Acceptance Criteria\n- [ ] Demo script rehearsed\n- [ ] All commands tested\n- [ ] Timing under 5 minutes\n- [ ] Backup plan if something fails","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-10T06:18:09.779572934Z","updated_at":"2026-01-10T06:25:33.576243537Z","closed_at":"2026-01-10T06:25:33.576243537Z"}
{"id":"wc-bb7e","content_hash":"ae6f18431d4ddc3130a2bd2a9ae8b24bbb29b3ca5af7e7e5866ab76efea9f852","title":"Add method count before method list in package output","description":"Add a count header before the methods section in package command output (e.g., 'Methods (12):') to give users a quick sense of the package's method surface area.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-15T02:26:44.92294367Z","updated_at":"2026-01-15T02:41:29.630100167Z","closed_at":"2026-01-15T02:41:29.630100167Z"}
{"id":"wc-c6e3","content_hash":"58e5b23436e67f3f754a0a35b37048bdabdeb811c6b0cb773ee4b1abb6d45868","title":"Add wildcat deadcode command - detect unreachable code","description":"Add a command to detect dead/unreachable code in a Go codebase.\n\nPotential approaches:\n- Use callers/refs to find symbols with no references\n- Leverage gopls or go/analysis for reachability analysis\n- Consider exported vs unexported symbols differently\n- Handle main packages and test files appropriately\n\nOutput should identify:\n- Unexported functions/methods never called\n- Unexported types never instantiated\n- Unexported constants/variables never referenced\n- Potentially exported symbols only used within the same package\n\nRelated to existing commands: callers, refs, impact","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-14T07:20:42.930939262Z","updated_at":"2026-01-14T07:20:42.930939262Z"}
{"id":"wc-cadc","content_hash":"927632e45f5a33e18f6f7c0ebc6b6a87055f6f13f94a20ab9cda77254cb85e4b","title":"Migrate LSP client to go.lsp.dev/protocol","description":"Replace custom LSP JSON-RPC implementation with go.lsp.dev/jsonrpc2 and go.lsp.dev/protocol libraries.\n\n## Why\n- Battle-tested implementation handles LSP protocol edge cases\n- Discovered we missed server-to-client requests (window/workDoneProgress/create)\n- Reduces maintenance burden for protocol nuances\n\n## Scope\n- Replace internal/lsp/jsonrpc.go with go.lsp.dev/jsonrpc2\n- Update internal/lsp/protocol.go to use go.lsp.dev/protocol types\n- Simplify internal/lsp/client.go to use library handlers\n- Remove custom notification/request handling code\n\n## Acceptance Criteria\n- [ ] All existing tests pass\n- [ ] Commands work identically\n- [ ] Progress notifications still work for WaitForReady","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T14:38:38.584698412Z","updated_at":"2026-01-15T14:38:38.584698412Z"}
{"id":"wc-cb10","content_hash":"3530ccc4c877c7fb870cdb32cbfd1b7456eaf38a2cad1bed23fd70c43bfba3d0","title":"LSP client infrastructure","description":"## Context\nFollowing the LSP feasibility research (wc-d974), we're pivoting to an LSP-based architecture. This makes Wildcat language-agnostic, supporting any language with an LSP server.\n\n## Architecture Decision\n**Wildcat as LSP Orchestrator**: We use LSP servers (gopls, rust-analyzer, pyright, etc.) as backends, orchestrating multiple calls, handling recursion, extracting snippets, and formatting output for AI consumption.\n\n## Scope\nCreate `internal/lsp` package that:\n\n### 1. LSP Client Core\n- JSON-RPC 2.0 client over stdio\n- Request/response with ID tracking\n- Notification handling\n- Timeouts and error handling\n\n### 2. Server Lifecycle Management\n- Start LSP server process\n- Initialize/shutdown handshake\n- Keep-alive for multiple queries\n- Graceful cleanup\n\n### 3. Core LSP Methods\nImplement wrappers for:\n- `initialize` / `shutdown`\n- `textDocument/didOpen` (for symbol lookup context)\n- `workspace/symbol` - find symbols by name\n- `textDocument/prepareCallHierarchy`\n- `callHierarchy/incomingCalls`\n- `callHierarchy/outgoingCalls`\n- `textDocument/references`\n- `textDocument/implementation`\n- `textDocument/typeDefinition`\n\n### 4. Protocol Types\nDefine Go types for:\n- Position, Range, Location\n- TextDocumentIdentifier\n- SymbolInformation\n- CallHierarchyItem, CallHierarchyIncomingCall, CallHierarchyOutgoingCall\n- ReferenceParams, ImplementationParams\n\n## Interface Design\n```go\ntype Client interface {\n    // Lifecycle\n    Initialize(ctx context.Context, rootURI string) error\n    Shutdown(ctx context.Context) error\n\n    // Symbol lookup\n    WorkspaceSymbol(ctx context.Context, query string) ([]SymbolInformation, error)\n\n    // Call hierarchy\n    PrepareCallHierarchy(ctx context.Context, uri string, pos Position) ([]CallHierarchyItem, error)\n    IncomingCalls(ctx context.Context, item CallHierarchyItem) ([]CallHierarchyIncomingCall, error)\n    OutgoingCalls(ctx context.Context, item CallHierarchyItem) ([]CallHierarchyOutgoingCall, error)\n\n    // References\n    References(ctx context.Context, uri string, pos Position) ([]Location, error)\n    Implementation(ctx context.Context, uri string, pos Position) ([]Location, error)\n}\n\ntype ServerConfig struct {\n    Command  string   // e.g. \"gopls\", \"rust-analyzer\"\n    Args     []string // e.g. [\"-mode=stdio\"]\n    RootURI  string   // workspace root\n}\n```\n\n## Acceptance Criteria\n- [ ] JSON-RPC client over stdio works\n- [ ] Can start/stop LSP server\n- [ ] Initialize handshake succeeds\n- [ ] workspace/symbol returns results\n- [ ] Call hierarchy methods work\n- [ ] References method works\n- [ ] Proper timeout handling\n- [ ] Unit tests with mock server\n- [ ] Integration test with gopls\n\n## Files\n- internal/lsp/client.go\n- internal/lsp/protocol.go (types)\n- internal/lsp/jsonrpc.go\n- internal/lsp/server.go (lifecycle)\n- internal/lsp/*_test.go\n\n## Why This Matters\nThis is the foundation for language-agnostic support. Every Wildcat command will use this client to communicate with language servers.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-10T04:56:59.354691328Z","updated_at":"2026-01-10T05:26:40.66299368Z","closed_at":"2026-01-10T05:26:40.66299368Z"}
{"id":"wc-cce9","content_hash":"22cb234993897c5754933010613a29730716356f625067b38e18ab1b2767edf9","title":"Stop tree traversal at stdlib boundary for down direction","description":"When direction=down, we currently recurse into stdlib internals (e.g., fmt.Sprintf → fmt.newPrinter → fmt.free). This clutters output with irrelevant details. Should stop at stdlib functions - show the call to fmt.Sprintf but don't recurse into its implementation.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-15T03:12:47.391825805Z","updated_at":"2026-01-15T05:07:26.157177715Z","closed_at":"2026-01-15T05:07:26.157177715Z","dependencies":[{"issue_id":"wc-cce9","depends_on_id":"wc-f890","type":"blocks","created_at":"2026-01-15T03:12:47.398891414Z","created_by":"jason"}]}
{"id":"wc-ce00","content_hash":"a3cf8ee1838dbc3db82cf5d2c7fd88e91bfa834355bec4dbe54b467ea46db904","title":"Bug: Duplicate package name in resolved symbol output","description":"When resolving symbols, output shows duplicate package names like:\n\n  \"resolved\": \"github.com/jasonmoo/bbb/database/model.model.Task\"\n\nShould be:\n\n  \"resolved\": \"github.com/jasonmoo/bbb/database/model.Task\"\n\nRoot cause: gopls returns Name as \"model.Task\" (with package prefix) and ContainerName as the full path. formatSymbol() concatenates them, creating duplication.\n\nFix: Detect when Name already starts with the short package name and avoid double-prefixing.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-12T14:02:20.694724208Z","updated_at":"2026-01-12T14:04:49.030500076Z","closed_at":"2026-01-12T14:04:49.030500076Z"}
{"id":"wc-cea9","content_hash":"0dcd8ffca4b67900689e7e60077837788ff089dd28f17dd559353e7a289e1ecf","title":"Update search output to match symbol structure","description":"Restructure search results to use package-organized output like symbol command:\n- Group results by package using PackageUsage\n- Include dir field per package\n- Use consistent Location/Snippet types\n- Add scope to query output","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T08:27:36.661961551Z","updated_at":"2026-01-16T08:27:36.661961551Z"}
{"id":"wc-d974","content_hash":"ccfb717b986bbba299f71e4d24ae05b07c70a6eb649c93abdfdc3e0763d0bca6","title":"Research LSP protocol for language-agnostic approach","description":"## Context\nBefore committing to Go-specific implementation, explore whether LSP (Language Server Protocol) can provide the features we need. If yes, Wildcat could be language-agnostic, working with any language that has an LSP server.\n\nThis is a potential PIVOT that would change our architecture significantly.\n\n## Key Questions\n\n### 1. Feature Coverage\nDoes LSP provide what we need for each Wildcat command?\n\n| Command | LSP Method | Sufficient? |\n|---------|------------|-------------|\n| callers | callHierarchy/incomingCalls | ? |\n| callees | callHierarchy/outgoingCalls | ? |\n| tree | recursive call hierarchy? | ? |\n| refs | textDocument/references | ? |\n| impact | combination of above? | ? |\n| implements | textDocument/implementation | ? |\n\n### 2. Call Hierarchy Depth\n- Does LSP support transitive/recursive call hierarchy?\n- Or only direct callers/callees (depth 1)?\n- Would we need to make recursive calls ourselves?\n\n### 3. Output Richness\n- Do responses include snippets/context?\n- File paths, line numbers, columns?\n- Enough for AI tool consumption?\n\n### 4. Performance\n- LSP is designed for interactive IDE use\n- How does it perform for batch queries?\n- Startup time for LSP servers?\n- Can we keep server running for multiple queries?\n\n### 5. Cross-Language Consistency\nSurvey LSP support across key languages:\n- Go (gopls)\n- Python (pyright, pylsp)\n- TypeScript/JavaScript (typescript-language-server)\n- Rust (rust-analyzer)\n- Java (eclipse.jdt.ls)\n- C/C++ (clangd)\n\nWhich features are consistently available?\n\n### 6. Symbol Specification\n- How do we specify symbols in LSP? (need file:line:col?)\n- Can we query by name like \"pkg.Func\"?\n- This was a key gopls limitation - does LSP protocol solve it?\n\n## Research Tasks\n\n1. **Read LSP 3.17 spec** for call hierarchy, references, implementation\n2. **Test gopls LSP mode** - make actual LSP calls, examine responses\n3. **Compare responses** to our desired output format\n4. **Test other LSP servers** - at least one other language\n5. **Evaluate recursive queries** - can we build trees?\n6. **Assess performance** - time queries, measure overhead\n\n## Deliverables\n\nCreate `docs/lsp-feasibility.md` with:\n1. Feature-by-feature LSP capability assessment\n2. Sample LSP request/response for each feature\n3. Gap analysis: what LSP provides vs what we need\n4. Cross-language support matrix\n5. Performance observations\n6. Recommendation: Go-specific vs LSP-based vs hybrid\n\n## Decision Criteria\n\n**Go with LSP if:**\n- Call hierarchy provides depth/recursive queries OR easy to implement client-side\n- Output is rich enough (file, line, context)\n- Performance is acceptable for batch use\n- Good support across 3+ major languages\n\n**Stay Go-specific if:**\n- LSP call hierarchy is too limited (depth 1 only, no recursion)\n- Output lacks necessary context\n- Performance is problematic\n- Cross-language support is inconsistent\n\n## Why This Matters\nLanguage-agnostic tool = much larger impact. But only if LSP can deliver the depth of analysis we need. This research determines our path.\n\n## Priority\nP0 - This decision affects all subsequent work. Must resolve before continuing with wc-af7d.1.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-10T04:16:58.761377704Z","updated_at":"2026-01-10T04:54:55.767044668Z","closed_at":"2026-01-10T04:54:55.767044668Z"}
{"id":"wc-de3c","content_hash":"8fb5d715a7b12a044917b8b401e9c9c6f28c8abba5750e98a09dfac10f11f7cf","title":"Truncate multiline constants in package command output","description":"When listing constants in the package command, multiline constant values should be truncated for cleaner output. Currently multiline constants display in full which clutters the listing.","status":"closed","priority":2,"issue_type":"chore","created_at":"2026-01-15T02:26:12.925788307Z","updated_at":"2026-01-15T02:43:51.395662655Z","closed_at":"2026-01-15T02:43:51.395662655Z"}
{"id":"wc-deda","content_hash":"7032e37b375b7f190a685c7161047e190fbead76d75b2ae923ae20fd6c8efb8e","title":"Write README.md and product design doc","description":"## Context\nWe've completed research on gopls (see docs/gopls-report.md) and designed \nWildcat's approach through conversation. Need to capture this in formal docs.\n\n## Scope\n1. README.md - Public-facing, explains premise and value proposition\n   - Problem: gopls is IDE-focused, not AI-optimized\n   - Solution: Wildcat - Go static analysis for AI agents\n   - Key features: symbol-based queries, JSON output, actionable results\n   - Examples showing the difference\n\n2. docs/product-design.md - Detailed feature specs\n   - Target user: AI agents (Claude, etc.)\n   - Command specifications (callers, tree, refs, etc.)\n   - Output format specs (JSON structure)\n   - Filtering/limiting options\n   - Error handling approach\n\n## Acceptance Criteria\n- [ ] README.md captures value prop clearly\n- [ ] Product design doc has detailed specs for MVP commands\n- [ ] Both reference research in docs/gopls-report.md\n\n## Relevant Files\n- docs/gopls-report.md - Gap analysis\n- docs/research.md - Initial design notes","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T03:40:40.229778888Z","updated_at":"2026-01-10T03:43:57.002420885Z","closed_at":"2026-01-10T03:43:57.002420885Z"}
{"id":"wc-e19d","content_hash":"01010183ed19ad605404379f520df82515c5de6281b92b3fd20ffa3e189256d3","title":"Command Remodel: project/package/symbol/search/calltree","description":"Consolidate wildcat commands around clear scopes: project, package, symbol, search.\n\n## Commands to Remove\n- `completion` - not needed for AI tool\n- `formats` - list can go in help text or readme\n\n## Commands to Consolidate into `symbol` (renamed from `impact`)\nCurrent `impact` already has: callers, references, implementations\n\nCandidates to fold in:\n- `callers` → already in impact, remove standalone\n- `callees` → add to symbol output, remove standalone  \n- `refs` → already in impact as \"references\", remove standalone\n- `satisfies` → add to symbol output for types, remove standalone\n- `implements` → already in impact for interfaces, remove standalone\n\n## Commands to Consolidate into `package`\n- `deps` → package already has Imports and ImportedBy sections\n\n## Renames\n- `impact` → `symbol`\n- `symbols` → `search`\n\n## Final Command Set\n- `project` - project/module level info (new)\n- `package` - package profile with all symbols, imports, imported_by\n- `symbol` - everything about a specific symbol (def, callers, callees, refs, satisfies, implements)\n- `search` - fuzzy symbol search\n- `tree` - call tree traversal (keep separate - different purpose: visualization/exploration)\n- `channels` - concurrency analysis (specialized)\n- `readme` - AI onboarding\n- `version` - standard\n\n## Evaluation Needed\n1. Is `tree` redundant if `symbol` shows callers/callees? (I think no - tree is for multi-hop traversal)\n2. Does `package` fully replace `deps`? (Check if deps has anything extra)\n3. What's the right depth for callers/callees in symbol output? (Direct only vs transitive)","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-15T08:36:38.969203267Z","updated_at":"2026-01-16T06:31:38.798336442Z","closed_at":"2026-01-16T06:31:38.798336442Z"}
{"id":"wc-e691","content_hash":"139ee570c41642eb98013b20107ccf70c21645c4f29a76421b6b4add87bd8979","title":"Eval: Custom benchmark for Wildcat strengths","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T02:37:15.65170102Z","updated_at":"2026-01-14T07:28:20.261214103Z","closed_at":"2026-01-14T07:28:20.261214103Z"}
{"id":"wc-e955","content_hash":"cee54969d79638d5c0429725600fcb7c09c6180e8ce172426fef2b52dae5d4e5","title":"Feature: Find function definition by name","description":"When modifying a function, we need to find where it's defined. Currently using grep for 'model=' to find where a variable is used. Wildcat could provide: 1) Find definition of a function/variable by name 2) Jump to definition like IDE 'go to definition'. Discovered while searching for model parameter in refactor_harness.py.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T03:35:25.959838194Z","updated_at":"2026-01-14T07:33:41.326034884Z","closed_at":"2026-01-14T07:33:41.326034884Z"}
{"id":"wc-ea9e","content_hash":"767fb2741d48c218f86cef256e546b9340b483fe7a5483114b56e9df52b0bdd9","title":"Research gopls LSP feature coverage","description":"Research ticket to understand the full gopls feature set.\n\n## Goals\n1. Document all gopls capabilities and LSP methods it supports\n2. Compare against the full LSP specification\n3. Identify what LSP features are NOT implemented in gopls\n4. Note any gopls-specific extensions beyond standard LSP\n\n## Deliverable\nA comprehensive report (can be added as comments on this ticket) covering:\n- Supported LSP methods (textDocument/*, workspace/*, etc.)\n- LSP spec version conformance\n- Notable gaps or limitations\n- Any Go-specific extensions\n\n## Notes\nThis is pure research - no code changes to wildcat required.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T01:43:54.466691825Z","updated_at":"2026-01-12T02:18:00.462932742Z","closed_at":"2026-01-12T02:18:00.462932742Z"}
{"id":"wc-ec85","content_hash":"d4727ce9c7758895af705e1a19f2a90224de692ae148d95031bbe222a98dda22","title":"Deps command: show both imports and imported_by in single response","description":"## Problem\nCurrent `wildcat deps` command requires `--reverse` flag to toggle between showing what a package imports vs what imports it. This requires two separate invocations to get the full picture.\n\n## Solution\nReturn both directions in a single response:\n- `imports` - packages this package depends on\n- `imported_by` - packages that depend on this package\n\nRemove the `--reverse` flag entirely.\n\n## Current Behavior\n```bash\nwildcat deps ./internal/lsp              # shows imports\nwildcat deps ./internal/lsp --reverse    # shows imported_by\n```\n\n## Proposed Output\n```json\n{\n  \"query\": {\n    \"command\": \"deps\",\n    \"target\": \"./internal/lsp\"\n  },\n  \"package\": \"github.com/jasonmoo/wildcat/internal/lsp\",\n  \"imports\": [\n    { \"package\": \"context\", ... },\n    { \"package\": \"fmt\", ... }\n  ],\n  \"imported_by\": [\n    { \"package\": \"github.com/jasonmoo/wildcat/cmd\", \"file\": \"...\", \"line\": ... }\n  ],\n  \"summary\": {\n    \"imports_count\": 5,\n    \"imported_by_count\": 3\n  }\n}\n```\n\n## Files to Modify\n- `cmd/deps.go` - Remove --reverse flag, fetch both directions\n- `internal/output/types.go` - Update DepsResponse structure\n\n## Acceptance Criteria\n- [ ] Single invocation returns both imports and imported_by\n- [ ] --reverse flag removed\n- [ ] Output structure includes both lists\n- [ ] Summary shows counts for both","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T08:16:19.026199533Z","updated_at":"2026-01-13T14:34:38.30426557Z","closed_at":"2026-01-13T14:34:38.30426557Z"}
{"id":"wc-ecb8","content_hash":"020719fb8e58ebccb7ba962ff4555d07f3f8309065e07de440e6623cd9b0bd65","title":"Research AST-annotated code format for AI editing","description":"## Problem\nLSP was designed for IDEs with cursor positions. AI agents need a different interface for precise code operations without tracking positions.\n\n## Core Idea\nAnnotate code with AST node IDs so AI can target any entity precisely:\n\n```go\nαfunc βrunChannels(γcmd δ*cobra.Command, εargs ζ[]string) ηerror {\n    θwriter, ιerr := κGetWriter(λos.μStdout)\n    νif ξerr οπnil {\n        ρreturn σfmt.τErrorf(υ\"invalid: %w\", φerr)\n    }\n}\n```\n\nThen operations are simple: `μ = \"Stderr\"`, `delete ν`, `β = \"executeChannels\"`\n\n## Design Options Explored\n\n**Representation formats:**\n- Parallel view (code + AST side by side)\n- Nested JSON with IDs as keys\n- Prefixed format `\"id:symbol\"` in JSON arrays\n- Inline prefixes on source code (single unicode char per token)\n\n**ID schemes:**\n- Numeric: 001, 002...\n- Unicode single-char: αβγ, ①②③, braille\n- Hierarchical encoding (ID = path)\n\n**Trade-offs:**\n- More granular = more verbose but more precise\n- Human readability not required (AI-only format)\n- Token efficiency matters for LLM context\n\n## Operations This Enables\n- `rename θ newWriter` - rename variable\n- `delete ν` - remove if block  \n- `θ.replace = \"w, err := NewWriter()\"` - replace statement\n- `insert after θ \"defer w.Close()\"` - inject code\n- Path queries: find all refs to μ, what contains ν\n\n## Research Questions\n- Optimal granularity (every token vs significant nodes only?)\n- Best ID scheme for token efficiency\n- How to handle structure changes (IDs shift when code changes)\n- Round-trip: annotated → edit → re-render → new annotations\n- Integration with existing wildcat commands\n\n## Related\nBuilds on channels/peers work - same need for precise code targeting.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T04:39:32.891606856Z","updated_at":"2026-01-16T04:39:32.891606856Z"}
{"id":"wc-ef9e","content_hash":"2542b75199d372454f96fe24bb2de842217bcab9b56d6e9dfd28a44e2f1a7961","title":"gopls OutgoingCalls crashes on functions calling builtins","description":"gopls v0.20.0 panics with nil pointer dereference in OutgoingCalls (callees) when the target function calls any builtin like len(), make(), append().\n\nRoot cause: golang.org/x/tools/gopls@v0.20.0/internal/golang/call_hierarchy.go:282 calls obj.Pkg().Path() without nil check. Builtins have nil Pkg().\n\n**FIXED in gopls v0.21.0** - Upgrade recommended.\n\nUpstream: https://github.com/golang/go/issues/75230","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-14T13:48:41.966109368Z","updated_at":"2026-01-14T13:51:09.487524001Z","closed_at":"2026-01-14T13:51:09.487524001Z"}
{"id":"wc-efda","content_hash":"6e25795ca12632c887a9c66d0bb9f77750a15c04f0c906022fae83cbea3c945d","title":"Documentation audit after command consolidation","description":"Following wc-e19d command consolidation (16 → 8 commands), need to update all docs:\n\n- Command help text (Short/Long descriptions)\n- README.md \n- readme command output\n- Any other docs referencing old commands\n\nRemoved commands to scrub:\n- deps, completion, formats\n- impact (now symbol), symbols (now search)\n- satisfies, implements (merged into symbol)\n- callers, callees, refs (tree is authoritative, symbol has refs)\n\nNew command set:\n- channels, package, readme, search, symbol, tree, version","status":"closed","priority":1,"issue_type":"chore","created_at":"2026-01-16T06:31:33.302369835Z","updated_at":"2026-01-16T06:47:54.863016407Z","closed_at":"2026-01-16T06:47:54.863016407Z","dependencies":[{"issue_id":"wc-efda","depends_on_id":"wc-e19d","type":"discovered-from","created_at":"2026-01-16T06:31:33.319103582Z","created_by":"jason"}]}
{"id":"wc-efe2","content_hash":"b30b5584b20762d134291e3b12e9c2d33f75f2cbd755069c63d71db16d71d1f5","title":"Symbol command: default to package scope, flag for project-wide","description":"## Summary\n\nAdd `--scope` flag to symbol command to control which packages are included in results.\n\n## Scope Options\n\n- `--scope package` (default) - symbol's defining package only\n- `--scope project` - full project\n- `--scope \u003cpattern\u003e` - custom package filter (format TBD)\n\n## Output Structure\n\nAlways include three summaries for context:\n\n```json\n{\n  \"query\": {\n    \"command\": \"symbol\",\n    \"target\": \"lsp.Client\",\n    \"scope\": \"package\"\n  },\n  \"usage\": {\n    \"callers\": [...],\n    \"references\": [...]\n  },\n  \"summary\": {\n    \"callers\": 2,\n    \"references\": 5\n  },\n  \"package_summary\": {\n    \"callers\": 2,\n    \"references\": 5\n  },\n  \"project_summary\": {\n    \"callers\": 8,\n    \"references\": 47\n  }\n}\n```\n\n- `summary` - stats for the requested scope\n- `package_summary` - always the symbol's defining package (fixed anchor)\n- `project_summary` - always full project (fixed anchor)\n\nWhen scope=package, summary equals package_summary.\nWhen scope=project, summary equals project_summary.\nWhen scope=custom, summary is the filtered count.\n\n## Consistency\n\n- Replace search command's `--package` flag with `--scope` for consistency\n- Aligns with `package` and future `project` commands\n- AI learns one scope vocabulary across all commands\n\n## Open Questions\n\n- Flag format for multiple packages (CSV? repeated flag? other?)\n- Glob/pattern matching semantics (how does `internal/*` match?)\n- Should satisfies/implements be scoped? (probably not - inherently cross-package)\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T06:29:50.483830698Z","updated_at":"2026-01-16T08:31:19.029695119Z","closed_at":"2026-01-16T08:31:19.029695119Z","dependencies":[{"issue_id":"wc-efe2","depends_on_id":"wc-48e9","type":"blocks","created_at":"2026-01-16T07:53:15.200389309Z","created_by":"jason"}]}
{"id":"wc-f203","content_hash":"fcf37334c9b34e97bd8c30893746ba9df5dc4406407e203fa1778f19566c436d","title":"Smarter snippets using AST walking","description":"Replace line-based snippets with AST-aware logical snippets.\n\n**Current behavior:** Snippets are extracted by line numbers, which can cut off in the middle of functions, structs, or other logical units.\n\n**Proposed behavior:** Use AST walking to produce semantically meaningful snippets (e.g., complete functions, type definitions, method blocks).\n\n**Guardrails needed:**\n- Maximum snippet size limit to prevent massive responses\n- Fallback to line-based when AST parsing fails\n- Consider depth limits for nested structures\n- May need heuristics for 'interesting' boundaries (function vs statement level)\n\n**Open questions:**\n- What's the right max size? Tokens? Bytes? Lines?\n- Should we expand to enclosing scope or contract to fit limit?\n- How to handle multi-symbol snippets (e.g., a function that references a type)?","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-13T03:28:16.375310486Z","updated_at":"2026-01-15T01:58:03.017664208Z","closed_at":"2026-01-15T01:58:03.017664208Z"}
{"id":"wc-f203.1","content_hash":"58f3712422fa348d1cd511739288492ab78df73dbe0de4260d464b6bd1477413","title":"Scope-bounded snippet fallback","description":"When ExtractSmart falls back (enclosing scope \u003e maxLines), the fallback should stay within the scope boundaries instead of crossing them.\n\n**Current behavior:**\n- Find enclosing node (e.g., function at lines 129-281)\n- If \u003e 10 lines, fall back to ±3 lines around target (e.g., lines 126-135)\n- This can show code from the previous function\n\n**Desired behavior:**\n- When falling back, compute window centered on target line\n- Clamp window to [scopeStart, scopeEnd]\n- Example: target=129, scope=129-281 → show lines 129-135 (not 126-135)\n\n**Implementation:**\n- Modify extractASTSnippet to compute bounded window instead of returning error\n- Use scope boundaries from findEnclosingNode\n- Window size = SmartSnippetFallbackContext * 2 + 1 (7 lines)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T13:07:11.870074439Z","updated_at":"2026-01-14T13:08:52.900204463Z","closed_at":"2026-01-14T13:08:52.900204463Z"}
{"id":"wc-f203.2","content_hash":"9f2c2196afc63323b94928e55952419811781cf17606aceb0c621e64a3c47206","title":"Merge overlapping snippet ranges","description":"When multiple references in the same file have overlapping or adjacent snippet ranges, merge them into a single snippet.\n\n**Current behavior:**\n- Each reference gets its own snippet\n- 'wildcat refs lsp.Client' on client.go produces 17 separate snippets\n- Many snippets overlap or are adjacent, creating redundant output\n\n**Desired behavior:**\n- After collecting results, identify overlapping/adjacent snippets in same file\n- Merge into single snippet covering all reference lines\n- Track multiple line numbers in merged result\n\n**Data structure changes:**\n- Add 'lines []int' field to Result (for merged results)\n- Keep 'line int' as primary/first line for backwards compat\n- Only populate 'lines' when multiple references merged\n\n**Implementation:**\n- Add MergeOverlappingResults([]Result) []Result function\n- Group results by file\n- Sort by line, identify overlapping ranges\n- Re-extract merged snippets\n- Call after collecting results in each command","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-14T13:07:20.458113314Z","updated_at":"2026-01-15T01:57:58.024612659Z","closed_at":"2026-01-15T01:57:58.024612659Z"}
{"id":"wc-f45a","content_hash":"e9e7731548769bb93a5415a91225dd5b3e05a641b67699a5a56d92b3fd2de0a6","title":"Eval: SWE-bench Lite with Wildcat","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T02:36:36.842030212Z","updated_at":"2026-01-14T07:28:20.25722153Z","closed_at":"2026-01-14T07:28:20.25722153Z"}
{"id":"wc-f796","content_hash":"6298a3aee443c7ed31c515c916fe94c491d2ab21fe620f6f43e8f77d595cefc8","title":"Normalize symbol field to fully qualified import path","description":"Search results show inconsistent symbol names:\n- 'golang.TestResolvePackagePath' (short pkg name)\n- 'stdlib.golang.org/x/tools/internal/stdlib.Symbol.Version' (partial path)\n\nMerge symbol and package fields into a single fully qualified symbol field using the full import path, e.g.:\n- 'github.com/jasonmoo/wildcat/internal/golang.TestResolvePackagePath'\n\nRemove separate package field since it's redundant with fully qualified symbol.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T09:53:01.210562634Z","updated_at":"2026-01-16T09:56:20.773762352Z","closed_at":"2026-01-16T09:56:20.773762352Z"}
{"id":"wc-f890","content_hash":"6a8a8834c7ca92a3b7a80865c9cbaac8ff724cbf9af42fe3453529bdb652fb67","title":"Simplify tree command output to path-based format","description":"Current tree output is graph-structured (nodes/edges) - good for algorithms, bad for AI comprehension.\n\nProposed output:\n\nJSON:\n{\n  \"target\": \"StoreEmail\",\n  \"direction\": \"up\",\n  \"paths\": [\n    [\"main\", \"Run\", \"HandleEmail\", \"StoreEmail\"],\n    [\"main\", \"Run\", \"HandleEmail\", \"Respond\", \"StoreEmail\"],\n    [\"TestMessageLifecycle\", \"StoreEmail\"]\n  ]\n}\n\nMarkdown:\nmain → Run → HandleEmail → StoreEmail\nmain → Run → HandleEmail → Respond → StoreEmail\nTestMessageLifecycle → StoreEmail\n\nKey insight: Agents need to understand call flow, not run graph algorithms. Paths are immediately useful without reconstruction.\n\nBoth formats trivially convertible, both immediately comprehensible.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-14T15:01:17.117518371Z","updated_at":"2026-01-15T03:38:08.676617548Z","closed_at":"2026-01-15T03:38:08.676617548Z"}
{"id":"wc-fed3","content_hash":"d26e4a7a42a98d89ecd2dc0fc4eb0d462eec7e10acffacda673a4637a2cb6e95","title":"Add fuzzy suggestions to symbol_not_found errors","description":"When a symbol query returns no results, provide helpful fuzzy suggestions instead of just returning empty/not found.\n\nExample improvement:\n```json\n{\n  \"error\": \"symbol_not_found\",\n  \"query\": \"db.Task\",\n  \"similar\": [\n    \"database.DB.Task (struct field, not queryable)\",\n    \"model.Task (type)\",\n    \"model.ExportedTask (type)\"\n  ]\n}\n```\n\nBenefits:\n1. Shows the tool understood what user was looking for\n2. Indicates if query format was wrong (e.g., struct fields work differently)\n3. Confirms whether the thing exists, just not as a queryable symbol\n4. Provides valid alternatives\n\nThis turns a dead-end into a redirect - the \"no\" becomes informative rather than just absence. Similar to how good CLIs give \"did you mean X?\" rather than just \"command not found.\"\n\nGoal: Kill the impulse to grep-verify by making symbol_not_found responses actually helpful.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T04:08:27.443196771Z","updated_at":"2026-01-12T04:26:21.459226961Z","closed_at":"2026-01-12T04:26:21.459226961Z"}
{"id":"wc-ff4a","content_hash":"44fb00488fac5ab5cd27f9e77fe579b0a16c43ecc6ee86f73f10024aa4f69b61","title":"Add wildcat peers command - show channel send/receive pairs","description":"## Problem\nUnderstanding concurrent Go code requires knowing what's on both ends of a channel - who sends, who receives. This is hard to discover with grep or basic code navigation.\n\n## Inspiration\nguru's `peers` command: \"show send/receive corresponding to selected channel op\"\n\n## Solution\nAdd `wildcat peers \u003csymbol\u003e` command that shows:\n- All send operations on a channel\n- All receive operations on the same channel\n- The connection between producers and consumers\n\n## Example Output\n```json\n{\n  \"query\": { \"command\": \"peers\", \"target\": \"workQueue\" },\n  \"channel\": {\n    \"symbol\": \"workQueue\",\n    \"type\": \"chan Task\",\n    \"file\": \"worker.go\",\n    \"line\": 15\n  },\n  \"sends\": [\n    { \"file\": \"dispatcher.go\", \"line\": 42, \"snippet\": \"workQueue \u003c- task\" },\n    { \"file\": \"dispatcher.go\", \"line\": 67, \"snippet\": \"workQueue \u003c- urgentTask\" }\n  ],\n  \"receives\": [\n    { \"file\": \"worker.go\", \"line\": 28, \"snippet\": \"task := \u003c-workQueue\" },\n    { \"file\": \"worker.go\", \"line\": 55, \"snippet\": \"for task := range workQueue\" }\n  ],\n  \"summary\": {\n    \"sends\": 2,\n    \"receives\": 2\n  }\n}\n```\n\n## Implementation Notes\n- May require pointer analysis for dynamic channel references\n- guru used `-scope` flag for this - we may need similar\n- Consider whether gopls provides this or if we need go/ssa\n\n## Research Needed\n- [ ] Does gopls support channel peer analysis?\n- [ ] What go/x/tools packages support this? (go/ssa, go/pointer?)\n- [ ] How did guru implement this?\n\n## Acceptance Criteria\n- [ ] `wildcat peers \u003cchannel\u003e` shows sends and receives\n- [ ] Works for named channel variables\n- [ ] Shows file:line for each operation","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-13T08:41:23.335975318Z","updated_at":"2026-01-16T04:58:48.279923145Z","closed_at":"2026-01-16T04:58:48.279923145Z"}
{"id":"wc-ffe6","content_hash":"ed48504f524427f01c10dc619a813a168f2295c21b86d9fa0a2dd8224fd3b998","title":"Add wildcat blocking command - show all blocking operations","description":"## Problem\nUnderstanding where code can block is critical for concurrency analysis. Blocking points are scattered across channels, mutexes, IO, and sleep calls.\n\n## Solution\nNew `wildcat blocking` command that reports all blocking operations:\n\n### Channels (existing in channels command)\n- `\u003c-ch` receive\n- `ch \u003c-` send (can block if unbuffered/full)\n- `select` with channel cases\n\n### Mutexes\n- `sync.Mutex.Lock()`\n- `sync.RWMutex.Lock()`, `RLock()`\n- `sync.WaitGroup.Wait()`\n- `sync.Cond.Wait()`\n- `sync.Once.Do()` (first call blocks others)\n\n### IO/System\n- `time.Sleep()`\n- `time.After()`, `time.Tick()`\n- `os.Stdin.Read()`, file reads\n- `net.Conn.Read()`, `Accept()`\n- `http.Client.Do()`, `Get()`, `Post()`\n- `exec.Cmd.Wait()`, `Run()`\n- `context.Done()` receives\n\n### Output Format\n```json\n{\n  \"packages\": [{\n    \"package\": \"...\",\n    \"blocking\": {\n      \"channels\": [...],\n      \"mutexes\": [...],\n      \"io\": [...],\n      \"sleep\": [...],\n      \"context\": [...]\n    }\n  }],\n  \"summary\": {\n    \"total\": N,\n    \"by_kind\": {...}\n  }\n}\n```\n\n## Implementation\n- Extend channels command approach\n- Detect method calls on known blocking types\n- Group by category for easier analysis\n\n## Use Cases\n- Deadlock analysis: find Lock() without Unlock()\n- Performance: find unexpected blocking in hot paths\n- Concurrency review: see all sync points at a glance","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-16T04:40:58.58672628Z","updated_at":"2026-01-16T04:40:58.58672628Z"}
